(function(b,a){typeof exports==="object"&&typeof module!=="undefined"?a(exports):typeof define==="function"&&define.amd?define(["exports"],a):(a((b.L={})))}(this,(function(aS){var aX="1.5.1+HEAD.2e3e0ff";var bg=Object.freeze;Object.freeze=function(dL){return dL};function ct(dN){var dO,dM,dL,dP;for(dM=1,dL=arguments.length;dM<dL;dM++){dP=arguments[dM];for(dO in dP){dN[dO]=dP[dO]}}return dN}var ae=Object.create||(function(){function dL(){}return function(dM){dL.prototype=dM;return new dL()}})();function bW(dM,dN){var dO=Array.prototype.slice;if(dM.bind){return dM.bind.apply(dM,dO.call(arguments,1))}var dL=dO.call(arguments,2);return function(){return dM.apply(dN,dL.length?dL.concat(dO.call(arguments)):arguments)}}var W=0;function ag(dL){dL._leaflet_id=dL._leaflet_id||++W;return dL._leaflet_id}function cp(dQ,dR,dP){var dO,dN,dM,dL;dL=function(){dO=false;if(dN){dM.apply(dP,dN);dN=false}};dM=function(){if(dO){dN=arguments}else{dQ.apply(dP,arguments);setTimeout(dL,dR);dO=true}};return dM}function U(dM,dN,dP){var dL=dN[1],dO=dN[0],dQ=dL-dO;return dM===dL&&dP?dM:((dM-dO)%dQ+dQ)%dQ+dO}function cM(){return false}function bq(dL,dM){dM=(dM===undefined?6:dM);return +(Math.round(dL+("e+"+dM))+("e-"+dM))}function aE(dL){return dL.trim?dL.trim():dL.replace(/^\s+|\s+$/g,"")}function g(dL){return aE(dL).split(/\s+/)}function b8(dN,dL){if(!dN.hasOwnProperty("options")){dN.options=dN.options?ae(dN.options):{}}for(var dM in dL){dN.options[dM]=dL[dM]}return dN.options}function bm(dO,dL,dM){var dP=[];for(var dN in dO){dP.push(encodeURIComponent(dM?dN.toUpperCase():dN)+"="+encodeURIComponent(dO[dN]))}return((!dL||dL.indexOf("?")===-1)?"?":"&")+dP.join("&")}var dJ=/\{ *([\w_-]+) *\}/g;function bo(dM,dL){return dM.replace(dJ,function(dP,dN){var dO=dL[dN];if(dO===undefined){throw new Error("No value provided for variable "+dP)}else{if(typeof dO==="function"){dO=dO(dL)}}return dO})}var bh=Array.isArray||function(dL){return(Object.prototype.toString.call(dL)==="[object Array]")};function dy(dN,dM){for(var dL=0;dL<dN.length;dL++){if(dN[dL]===dM){return dL}}return -1}var H="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function cz(dL){return window["webkit"+dL]||window["moz"+dL]||window["ms"+dL]}var db=0;function cT(dL){var dN=+new Date(),dM=Math.max(0,16-(dN-db));db=dN+dM;return window.setTimeout(dL,dM)}var bC=window.requestAnimationFrame||cz("RequestAnimationFrame")||cT;var b=window.cancelAnimationFrame||cz("CancelAnimationFrame")||cz("CancelRequestAnimationFrame")||function(dL){window.clearTimeout(dL)};function dC(dN,dM,dL){if(dL&&bC===cT){dN.call(dM)}else{return bC.call(window,bW(dN,dM))}}function cW(dL){if(dL){b.call(window,dL)}}var bN=(Object.freeze||Object)({freeze:bg,extend:ct,create:ae,bind:bW,lastId:W,stamp:ag,throttle:cp,wrapNum:U,falseFn:cM,formatNum:bq,trim:aE,splitWords:g,setOptions:b8,getParamString:bm,template:bo,isArray:bh,indexOf:dy,emptyImageUrl:H,requestFn:bC,cancelFn:b,requestAnimFrame:dC,cancelAnimFrame:cW});function by(){}by.extend=function(dM){var dP=function(){if(this.initialize){this.initialize.apply(this,arguments)}this.callInitHooks()};var dO=dP.__super__=this.prototype;var dN=ae(dO);dN.constructor=dP;dP.prototype=dN;for(var dL in this){if(this.hasOwnProperty(dL)&&dL!=="prototype"&&dL!=="__super__"){dP[dL]=this[dL]}}if(dM.statics){ct(dP,dM.statics);delete dM.statics}if(dM.includes){t(dM.includes);ct.apply(null,[dN].concat(dM.includes));delete dM.includes}if(dN.options){dM.options=ct(ae(dN.options),dM.options)}ct(dN,dM);dN._initHooks=[];dN.callInitHooks=function(){if(this._initHooksCalled){return}if(dO.callInitHooks){dO.callInitHooks.call(this)}this._initHooksCalled=true;for(var dR=0,dQ=dN._initHooks.length;dR<dQ;dR++){dN._initHooks[dR].call(this)}};return dP};by.include=function(dL){ct(this.prototype,dL);return this};by.mergeOptions=function(dL){ct(this.prototype.options,dL);return this};by.addInitHook=function(dM){var dL=Array.prototype.slice.call(arguments,1);var dN=typeof dM==="function"?dM:function(){this[dM].apply(this,dL)};this.prototype._initHooks=this.prototype._initHooks||[];this.prototype._initHooks.push(dN);return this};function t(dM){if(typeof L==="undefined"||!L||!L.Mixin){return}dM=bh(dM)?dM:[dM];for(var dL=0;dL<dM.length;dL++){if(dM[dL]===L.Mixin.Events){console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}}var cx={on:function(dO,dQ,dN){if(typeof dO==="object"){for(var dP in dO){this._on(dP,dO[dP],dQ)}}else{dO=g(dO);for(var dM=0,dL=dO.length;dM<dL;dM++){this._on(dO[dM],dQ,dN)}}return this},off:function(dO,dQ,dN){if(!dO){delete this._events}else{if(typeof dO==="object"){for(var dP in dO){this._off(dP,dO[dP],dQ)}}else{dO=g(dO);for(var dM=0,dL=dO.length;dM<dL;dM++){this._off(dO[dM],dQ,dN)}}}return this},_on:function(dS,dR,dP){this._events=this._events||{};var dM=this._events[dS];if(!dM){dM=[];this._events[dS]=dM}if(dP===this){dP=undefined}var dN={fn:dR,ctx:dP},dQ=dM;for(var dO=0,dL=dQ.length;dO<dL;dO++){if(dQ[dO].fn===dR&&dQ[dO].ctx===dP){return}}dQ.push(dN)},_off:function(dR,dQ,dO){var dP,dN,dL;if(!this._events){return}dP=this._events[dR];if(!dP){return}if(!dQ){for(dN=0,dL=dP.length;dN<dL;dN++){dP[dN].fn=cM}delete this._events[dR];return}if(dO===this){dO=undefined}if(dP){for(dN=0,dL=dP.length;dN<dL;dN++){var dM=dP[dN];if(dM.ctx!==dO){continue}if(dM.fn===dQ){dM.fn=cM;if(this._firingCount){this._events[dR]=dP=dP.slice()}dP.splice(dN,1);return}}}},fire:function(dQ,dS,dM){if(!this.listens(dQ,dM)){return this}var dR=ct({},dS,{type:dQ,target:this,sourceTarget:dS&&dS.sourceTarget||this});if(this._events){var dP=this._events[dQ];if(dP){this._firingCount=(this._firingCount+1)||1;for(var dO=0,dL=dP.length;dO<dL;dO++){var dN=dP[dO];dN.fn.call(dN.ctx||this,dR)}this._firingCount--}}if(dM){this._propagateEvent(dR)}return this},listens:function(dN,dL){var dM=this._events&&this._events[dN];if(dM&&dM.length){return true}if(dL){for(var dO in this._eventParents){if(this._eventParents[dO].listens(dN,dL)){return true}}}return false},once:function(dM,dP,dL){if(typeof dM==="object"){for(var dO in dM){this.once(dO,dM[dO],dP)}return this}var dN=bW(function(){this.off(dM,dP,dL).off(dM,dN,dL)},this);return this.on(dM,dP,dL).on(dM,dN,dL)},addEventParent:function(dL){this._eventParents=this._eventParents||{};this._eventParents[ag(dL)]=dL;return this},removeEventParent:function(dL){if(this._eventParents){delete this._eventParents[ag(dL)]}return this},_propagateEvent:function(dL){for(var dM in this._eventParents){this._eventParents[dM].fire(dL.type,ct({layer:dL.target,propagatedFrom:dL.target},dL),true)}}};cx.addEventListener=cx.on;cx.removeEventListener=cx.clearAllEventListeners=cx.off;cx.addOneTimeEventListener=cx.once;cx.fireEvent=cx.fire;cx.hasEventListeners=cx.listens;var ci=by.extend(cx);function c3(dL,dN,dM){this.x=(dM?Math.round(dL):dL);this.y=(dM?Math.round(dN):dN)}var aw=Math.trunc||function(dL){return dL>0?Math.floor(dL):Math.ceil(dL)};c3.prototype={clone:function(){return new c3(this.x,this.y)},add:function(dL){return this.clone()._add(cX(dL))},_add:function(dL){this.x+=dL.x;this.y+=dL.y;return this},subtract:function(dL){return this.clone()._subtract(cX(dL))},_subtract:function(dL){this.x-=dL.x;this.y-=dL.y;return this},divideBy:function(dL){return this.clone()._divideBy(dL)},_divideBy:function(dL){this.x/=dL;this.y/=dL;return this},multiplyBy:function(dL){return this.clone()._multiplyBy(dL)},_multiplyBy:function(dL){this.x*=dL;this.y*=dL;return this},scaleBy:function(dL){return new c3(this.x*dL.x,this.y*dL.y)},unscaleBy:function(dL){return new c3(this.x/dL.x,this.y/dL.y)},round:function(){return this.clone()._round()},_round:function(){this.x=Math.round(this.x);this.y=Math.round(this.y);return this},floor:function(){return this.clone()._floor()},_floor:function(){this.x=Math.floor(this.x);this.y=Math.floor(this.y);return this},ceil:function(){return this.clone()._ceil()},_ceil:function(){this.x=Math.ceil(this.x);this.y=Math.ceil(this.y);return this},trunc:function(){return this.clone()._trunc()},_trunc:function(){this.x=aw(this.x);this.y=aw(this.y);return this},distanceTo:function(dM){dM=cX(dM);var dL=dM.x-this.x,dN=dM.y-this.y;return Math.sqrt(dL*dL+dN*dN)},equals:function(dL){dL=cX(dL);return dL.x===this.x&&dL.y===this.y},contains:function(dL){dL=cX(dL);return Math.abs(dL.x)<=Math.abs(this.x)&&Math.abs(dL.y)<=Math.abs(this.y)},toString:function(){return"Point("+bq(this.x)+", "+bq(this.y)+")"}};function cX(dL,dN,dM){if(dL instanceof c3){return dL}if(bh(dL)){return new c3(dL[0],dL[1])}if(dL===undefined||dL===null){return dL}if(typeof dL==="object"&&"x" in dL&&"y" in dL){return new c3(dL.x,dL.y)}return new c3(dL,dN,dM)}function cq(dN,dM){if(!dN){return}var dP=dM?[dN,dM]:dN;for(var dO=0,dL=dP.length;dO<dL;dO++){this.extend(dP[dO])}}cq.prototype={extend:function(dL){dL=cX(dL);if(!this.min&&!this.max){this.min=dL.clone();this.max=dL.clone()}else{this.min.x=Math.min(dL.x,this.min.x);this.max.x=Math.max(dL.x,this.max.x);this.min.y=Math.min(dL.y,this.min.y);this.max.y=Math.max(dL.y,this.max.y)}return this},getCenter:function(dL){return new c3((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,dL)},getBottomLeft:function(){return new c3(this.min.x,this.max.y)},getTopRight:function(){return new c3(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(dN){var dM,dL;if(typeof dN[0]==="number"||dN instanceof c3){dN=cX(dN)}else{dN=E(dN)}if(dN instanceof cq){dM=dN.min;dL=dN.max}else{dM=dL=dN}return(dM.x>=this.min.x)&&(dL.x<=this.max.x)&&(dM.y>=this.min.y)&&(dL.y<=this.max.y)},intersects:function(dQ){dQ=E(dQ);var dO=this.min,dL=this.max,dP=dQ.min,dM=dQ.max,dN=(dM.x>=dO.x)&&(dP.x<=dL.x),dR=(dM.y>=dO.y)&&(dP.y<=dL.y);return dN&&dR},overlaps:function(dR){dR=E(dR);var dO=this.min,dL=this.max,dQ=dR.min,dM=dR.max,dP=(dM.x>dO.x)&&(dQ.x<dL.x),dN=(dM.y>dO.y)&&(dQ.y<dL.y);return dP&&dN},isValid:function(){return !!(this.min&&this.max)}};function E(dM,dL){if(!dM||dM instanceof cq){return dM}return new cq(dM,dL)}function aZ(dO,dN){if(!dO){return}var dM=dN?[dO,dN]:dO;for(var dP=0,dL=dM.length;dP<dL;dP++){this.extend(dM[dP])}}aZ.prototype={extend:function(dP){var dL=this._southWest,dO=this._northEast,dM,dN;if(dP instanceof bl){dM=dP;dN=dP}else{if(dP instanceof aZ){dM=dP._southWest;dN=dP._northEast;if(!dM||!dN){return this}}else{return dP?this.extend(dc(dP)||e(dP)):this}}if(!dL&&!dO){this._southWest=new bl(dM.lat,dM.lng);this._northEast=new bl(dN.lat,dN.lng)}else{dL.lat=Math.min(dM.lat,dL.lat);dL.lng=Math.min(dM.lng,dL.lng);dO.lat=Math.max(dN.lat,dO.lat);dO.lng=Math.max(dN.lng,dO.lng)}return this},pad:function(dO){var dM=this._southWest,dP=this._northEast,dL=Math.abs(dM.lat-dP.lat)*dO,dN=Math.abs(dM.lng-dP.lng)*dO;return new aZ(new bl(dM.lat-dL,dM.lng-dN),new bl(dP.lat+dL,dP.lng+dN))},getCenter:function(){return new bl((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new bl(this.getNorth(),this.getWest())},getSouthEast:function(){return new bl(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(dP){if(typeof dP[0]==="number"||dP instanceof bl||"lat" in dP){dP=dc(dP)}else{dP=e(dP)}var dL=this._southWest,dO=this._northEast,dM,dN;if(dP instanceof aZ){dM=dP.getSouthWest();dN=dP.getNorthEast()}else{dM=dN=dP}return(dM.lat>=dL.lat)&&(dN.lat<=dO.lat)&&(dM.lng>=dL.lng)&&(dN.lng<=dO.lng)},intersects:function(dO){dO=e(dO);var dL=this._southWest,dR=this._northEast,dM=dO.getSouthWest(),dQ=dO.getNorthEast(),dP=(dQ.lat>=dL.lat)&&(dM.lat<=dR.lat),dN=(dQ.lng>=dL.lng)&&(dM.lng<=dR.lng);return dP&&dN},overlaps:function(dP){dP=e(dP);var dL=this._southWest,dR=this._northEast,dM=dP.getSouthWest(),dQ=dP.getNorthEast(),dO=(dQ.lat>dL.lat)&&(dM.lat<dR.lat),dN=(dQ.lng>dL.lng)&&(dM.lng<dR.lng);return dO&&dN},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(dM,dL){if(!dM){return false}dM=e(dM);return this._southWest.equals(dM.getSouthWest(),dL)&&this._northEast.equals(dM.getNorthEast(),dL)},isValid:function(){return !!(this._southWest&&this._northEast)}};function e(dM,dL){if(dM instanceof aZ){return dM}return new aZ(dM,dL)}function bl(dN,dL,dM){if(isNaN(dN)||isNaN(dL)){throw new Error("Invalid LatLng object: ("+dN+", "+dL+")")}this.lat=+dN;this.lng=+dL;if(dM!==undefined){this.alt=+dM}}bl.prototype={equals:function(dN,dL){if(!dN){return false}dN=dc(dN);var dM=Math.max(Math.abs(this.lat-dN.lat),Math.abs(this.lng-dN.lng));return dM<=(dL===undefined?1e-9:dL)},toString:function(dL){return"LatLng("+bq(this.lat,dL)+", "+bq(this.lng,dL)+")"},distanceTo:function(dL){return c9.distance(this,dc(dL))},wrap:function(){return c9.wrapLatLng(this)},toBounds:function(dM){var dN=180*dM/40075017,dL=dN/Math.cos((Math.PI/180)*this.lat);return e([this.lat-dN,this.lng-dL],[this.lat+dN,this.lng+dL])},clone:function(){return new bl(this.lat,this.lng,this.alt)}};function dc(dM,dL,dN){if(dM instanceof bl){return dM}if(bh(dM)&&typeof dM[0]!=="object"){if(dM.length===3){return new bl(dM[0],dM[1],dM[2])}if(dM.length===2){return new bl(dM[0],dM[1])}return null}if(dM===undefined||dM===null){return dM}if(typeof dM==="object"&&"lat" in dM){return new bl(dM.lat,"lng" in dM?dM.lng:dM.lon,dM.alt)}if(dL===undefined){return null}return new bl(dM,dL,dN)}var i={latLngToPoint:function(dO,dM){var dL=this.projection.project(dO),dN=this.scale(dM);return this.transformation._transform(dL,dN)},pointToLatLng:function(dL,dN){var dO=this.scale(dN),dM=this.transformation.untransform(dL,dO);return this.projection.unproject(dM)},project:function(dL){return this.projection.project(dL)},unproject:function(dL){return this.projection.unproject(dL)},scale:function(dL){return 256*Math.pow(2,dL)},zoom:function(dL){return Math.log(dL/256)/Math.LN2},getProjectedBounds:function(dP){if(this.infinite){return null}var dM=this.projection.bounds,dO=this.scale(dP),dN=this.transformation.transform(dM.min,dO),dL=this.transformation.transform(dM.max,dO);return new cq(dN,dL)},infinite:false,wrapLatLng:function(dO){var dL=this.wrapLng?U(dO.lng,this.wrapLng,true):dO.lng,dN=this.wrapLat?U(dO.lat,this.wrapLat,true):dO.lat,dM=dO.alt;return new bl(dN,dL,dM)},wrapLatLngBounds:function(dL){var dM=dL.getCenter(),dN=this.wrapLatLng(dM),dQ=dM.lat-dN.lat,dR=dM.lng-dN.lng;if(dQ===0&&dR===0){return dL}var dS=dL.getSouthWest(),dO=dL.getNorthEast(),dT=new bl(dS.lat-dQ,dS.lng-dR),dP=new bl(dO.lat-dQ,dO.lng-dR);return new aZ(dT,dP)}};var c9=ct({},i,{wrapLng:[-180,180],R:6371000,distance:function(dT,dR){var dP=Math.PI/180,dN=dT.lat*dP,dM=dR.lat*dP,dS=Math.sin((dR.lat-dT.lat)*dP/2),dL=Math.sin((dR.lng-dT.lng)*dP/2),dQ=dS*dS+Math.cos(dN)*Math.cos(dM)*dL*dL,dO=2*Math.atan2(Math.sqrt(dQ),Math.sqrt(1-dQ));return this.R*dO}});var a0=6378137;var ds={R:a0,MAX_LATITUDE:85.0511287798,project:function(dP){var dO=Math.PI/180,dL=this.MAX_LATITUDE,dN=Math.max(Math.min(dL,dP.lat),-dL),dM=Math.sin(dN*dO);return new c3(this.R*dP.lng*dO,this.R*Math.log((1+dM)/(1-dM))/2)},unproject:function(dL){var dM=180/Math.PI;return new bl((2*Math.atan(Math.exp(dL.y/this.R))-(Math.PI/2))*dM,dL.x*dM/this.R)},bounds:(function(){var dL=a0*Math.PI;return new cq([-dL,-dL],[dL,dL])})()};function be(dM,dL,dO,dN){if(bh(dM)){this._a=dM[0];this._b=dM[1];this._c=dM[2];this._d=dM[3];return}this._a=dM;this._b=dL;this._c=dO;this._d=dN}be.prototype={transform:function(dL,dM){return this._transform(dL.clone(),dM)},_transform:function(dL,dM){dM=dM||1;dL.x=dM*(this._a*dL.x+this._b);dL.y=dM*(this._c*dL.y+this._d);return dL},untransform:function(dL,dM){dM=dM||1;return new c3((dL.x/dM-this._b)/this._a,(dL.y/dM-this._d)/this._c)}};function aP(dM,dL,dO,dN){return new be(dM,dL,dO,dN)}var a6=ct({},c9,{code:"EPSG:3857",projection:ds,transformation:(function(){var dL=0.5/(Math.PI*ds.R);return aP(dL,0.5,-dL,0.5)}())});var cF=ct({},a6,{code:"EPSG:900913"});function bX(dL){return document.createElementNS("http://www.w3.org/2000/svg",dL)}function ar(dS,dP){var dR="",dO,dN,dQ,dM,dT,dL;for(dO=0,dQ=dS.length;dO<dQ;dO++){dT=dS[dO];for(dN=0,dM=dT.length;dN<dM;dN++){dL=dT[dN];dR+=(dN?"L":"M")+dL.x+" "+dL.y}dR+=dP?(b2?"z":"x"):""}return dR||"M0 0"}var x=document.documentElement.style;var aq="ActiveXObject" in window;var cy=aq&&!document.addEventListener;var aT="msLaunchUri" in navigator&&!("documentMode" in document);var O=b3("webkit");var a2=b3("android");var Y=b3("android 2")||b3("android 3");var cV=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10);var cQ=a2&&b3("Google")&&cV<537&&!("AudioNode" in window);var o=!!window.opera;var aA=b3("chrome");var bp=b3("gecko")&&!O&&!o&&!aq;var bw=!aA&&b3("safari");var bd=b3("phantom");var B="OTransition" in x;var b1=navigator.platform.indexOf("Win")===0;var dx=aq&&("transition" in x);var dn=("WebKitCSSMatrix" in window)&&("m11" in new window.WebKitCSSMatrix())&&!Y;var G="MozPerspective" in x;var bs=!window.L_DISABLE_3D&&(dx||dn||G)&&!B&&!bd;var bH=typeof orientation!=="undefined"||b3("mobile");var dq=bH&&O;var bF=bH&&dn;var bK=!window.PointerEvent&&window.MSPointerEvent;var cR=!!(window.PointerEvent||bK);var bt=!window.L_NO_TOUCH&&(cR||"ontouchstart" in window||(window.DocumentTouch&&document instanceof window.DocumentTouch));var b6=bH&&o;var l=bH&&bp;var ba=(window.devicePixelRatio||(window.screen.deviceXDPI/window.screen.logicalXDPI))>1;var cC=(function(){return !!document.createElement("canvas").getContext}());var b2=!!(document.createElementNS&&bX("svg").createSVGRect);var cY=!b2&&(function(){try{var dN=document.createElement("div");dN.innerHTML='<v:shape adj="1"/>';var dL=dN.firstChild;dL.style.behavior="url(#default#VML)";return dL&&(typeof dL.adj==="object")}catch(dM){return false}}());function b3(dL){return navigator.userAgent.toLowerCase().indexOf(dL)>=0}var aW=(Object.freeze||Object)({ie:aq,ielt9:cy,edge:aT,webkit:O,android:a2,android23:Y,androidStock:cQ,opera:o,chrome:aA,gecko:bp,safari:bw,phantom:bd,opera12:B,win:b1,ie3d:dx,webkit3d:dn,gecko3d:G,any3d:bs,mobile:bH,mobileWebkit:dq,mobileWebkit3d:bF,msPointer:bK,pointer:cR,touch:bt,mobileOpera:b6,mobileGecko:l,retina:ba,canvas:cC,svg:b2,vml:cY});var c1=bK?"MSPointerDown":"pointerdown";var de=bK?"MSPointerMove":"pointermove";var a9=bK?"MSPointerUp":"pointerup";var cw=bK?"MSPointerCancel":"pointercancel";var dF=["INPUT","SELECT","OPTION"];var aN={};var f=false;var bZ=0;function dk(dN,dM,dL,dO){if(dM==="touchstart"){F(dN,dL,dO)}else{if(dM==="touchmove"){di(dN,dL,dO)}else{if(dM==="touchend"){cS(dN,dL,dO)}}}return this}function bn(dN,dM,dO){var dL=dN["_leaflet_"+dM+dO];if(dM==="touchstart"){dN.removeEventListener(c1,dL,false)}else{if(dM==="touchmove"){dN.removeEventListener(de,dL,false)}else{if(dM==="touchend"){dN.removeEventListener(a9,dL,false);dN.removeEventListener(cw,dL,false)}}}return this}function F(dN,dL,dO){var dM=bW(function(dP){if(dP.pointerType!=="mouse"&&dP.MSPOINTER_TYPE_MOUSE&&dP.pointerType!==dP.MSPOINTER_TYPE_MOUSE){if(dF.indexOf(dP.target.tagName)<0){dA(dP)}else{return}}bz(dP,dL)});dN["_leaflet_touchstart"+dO]=dM;dN.addEventListener(c1,dM,false);if(!f){document.documentElement.addEventListener(c1,bO,true);document.documentElement.addEventListener(de,b5,true);document.documentElement.addEventListener(a9,j,true);document.documentElement.addEventListener(cw,j,true);f=true}}function bO(dL){aN[dL.pointerId]=dL;bZ++}function b5(dL){if(aN[dL.pointerId]){aN[dL.pointerId]=dL}}function j(dL){delete aN[dL.pointerId];bZ--}function bz(dN,dM){dN.touches=[];for(var dL in aN){dN.touches.push(aN[dL])}dN.changedTouches=[dN];dM(dN)}function di(dM,dL,dO){var dN=function(dP){if((dP.pointerType===dP.MSPOINTER_TYPE_MOUSE||dP.pointerType==="mouse")&&dP.buttons===0){return}bz(dP,dL)};dM["_leaflet_touchmove"+dO]=dN;dM.addEventListener(de,dN,false)}function cS(dM,dL,dO){var dN=function(dP){bz(dP,dL)};dM["_leaflet_touchend"+dO]=dN;dM.addEventListener(a9,dN,false);dM.addEventListener(cw,dN,false)}var bV=bK?"MSPointerDown":cR?"pointerdown":"touchstart";var bD=bK?"MSPointerUp":cR?"pointerup":"touchend";var q="_leaflet_";function aQ(dM,dT,dL){var dS,dP,dQ=false,dO=250;function dN(dW){var dV;if(cR){if((!aT)||dW.pointerType==="mouse"){return}dV=bZ}else{dV=dW.touches.length}if(dV>1){return}var dU=Date.now(),dX=dU-(dS||dU);dP=dW.touches?dW.touches[0]:dW;dQ=(dX>0&&dX<=dO);dS=dU}function dR(dW){if(dQ&&!dP.cancelBubble){if(cR){if((!aT)||dW.pointerType==="mouse"){return}var dU={},dX,dV;for(dV in dP){dX=dP[dV];dU[dV]=dX&&dX.bind?dX.bind(dP):dX}dP=dU}dP.type="dblclick";dP.button=0;dT(dP);dS=null}}dM[q+bV+dL]=dN;dM[q+bD+dL]=dR;dM[q+"dblclick"+dL]=dT;dM.addEventListener(bV,dN,false);dM.addEventListener(bD,dR,false);dM.addEventListener("dblclick",dT,false);return this}function cK(dM,dP){var dO=dM[q+bV+dP],dN=dM[q+bD+dP],dL=dM[q+"dblclick"+dP];dM.removeEventListener(bV,dO,false);dM.removeEventListener(bD,dN,false);if(!aT){dM.removeEventListener("dblclick",dL,false)}return this}var a3=bG(["transform","webkitTransform","OTransform","MozTransform","msTransform"]);var C=bG(["webkitTransition","transition","OTransition","MozTransition","msTransition"]);var c7=C==="webkitTransition"||C==="OTransition"?C+"End":"transitionend";function u(dL){return typeof dL==="string"?document.getElementById(dL):dL}function cB(dN,dM){var dO=dN.style[dM]||(dN.currentStyle&&dN.currentStyle[dM]);if((!dO||dO==="auto")&&document.defaultView){var dL=document.defaultView.getComputedStyle(dN,null);dO=dL?dL[dM]:null}return dO==="auto"?null:dO}function bT(dM,dO,dL){var dN=document.createElement(dM);dN.className=dO||"";if(dL){dL.appendChild(dN)}return dN}function ad(dM){var dL=dM.parentNode;if(dL){dL.removeChild(dM)}}function a4(dL){while(dL.firstChild){dL.removeChild(dL.firstChild)}}function an(dM){var dL=dM.parentNode;if(dL&&dL.lastChild!==dM){dL.appendChild(dM)}}function ak(dM){var dL=dM.parentNode;if(dL&&dL.firstChild!==dM){dL.insertBefore(dM,dL.firstChild)}}function ah(dN,dL){if(dN.classList!==undefined){return dN.classList.contains(dL)}var dM=P(dN);return dM.length>0&&new RegExp("(^|\\s)"+dL+"(\\s|$)").test(dM)}function af(dQ,dM){if(dQ.classList!==undefined){var dO=g(dM);for(var dN=0,dL=dO.length;dN<dL;dN++){dQ.classList.add(dO[dN])}}else{if(!ah(dQ,dM)){var dP=P(dQ);cu(dQ,(dP?dP+" ":"")+dM)}}}function cg(dM,dL){if(dM.classList!==undefined){dM.classList.remove(dL)}else{cu(dM,aE((" "+P(dM)+" ").replace(" "+dL+" "," ")))}}function cu(dM,dL){if(dM.className.baseVal===undefined){dM.className=dL}else{dM.className.baseVal=dL}}function P(dL){if(dL.correspondingElement){dL=dL.correspondingElement}return dL.className.baseVal===undefined?dL.className:dL.className.baseVal}function av(dL,dM){if("opacity" in dL.style){dL.style.opacity=dM}else{if("filter" in dL.style){bj(dL,dM)}}}function bj(dN,dO){var dM=false,dL="DXImageTransform.Microsoft.Alpha";try{dM=dN.filters.item(dL)}catch(dP){if(dO===1){return}}dO=Math.round(dO*100);if(dM){dM.Enabled=(dO!==100);dM.Opacity=dO}else{dN.style.filter+=" progid:"+dL+"(opacity="+dO+")"}}function bG(dN){var dM=document.documentElement.style;for(var dL=0;dL<dN.length;dL++){if(dN[dL] in dM){return dN[dL]}}return false}function a5(dL,dN,dM){var dO=dN||new c3(0,0);dL.style[a3]=(dx?"translate("+dO.x+"px,"+dO.y+"px)":"translate3d("+dO.x+"px,"+dO.y+"px,0)")+(dM?" scale("+dM+")":"")}function cj(dM,dL){dM._leaflet_pos=dL;if(bs){a5(dM,dL)}else{dM.style.left=dL.x+"px";dM.style.top=dL.y+"px"}}function cD(dL){return dL._leaflet_pos||new c3(0,0)}var bL;var aa;var cP;if("onselectstart" in document){bL=function(){cs(window,"selectstart",dA)};aa=function(){dD(window,"selectstart",dA)}}else{var dH=bG(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);bL=function(){if(dH){var dL=document.documentElement.style;cP=dL[dH];dL[dH]="none"}};aa=function(){if(dH){document.documentElement.style[dH]=cP;cP=undefined}}}function aR(){cs(window,"dragstart",dA)}function D(){dD(window,"dragstart",dA)}var T;var dB;function aD(dL){while(dL.tabIndex===-1){dL=dL.parentNode}if(!dL.style){return}aK();T=dL;dB=dL.style.outline;dL.style.outline="none";cs(window,"keydown",aK)}function aK(){if(!T){return}T.style.outline=dB;T=undefined;dB=undefined;dD(window,"keydown",aK)}function ch(dL){do{dL=dL.parentNode}while((!dL.offsetWidth||!dL.offsetHeight)&&dL!==document.body);return dL}function aC(dL){var dM=dL.getBoundingClientRect();return{x:dM.width/dL.offsetWidth||1,y:dM.height/dL.offsetHeight||1,boundingClientRect:dM}}var dl=(Object.freeze||Object)({TRANSFORM:a3,TRANSITION:C,TRANSITION_END:c7,get:u,getStyle:cB,create:bT,remove:ad,empty:a4,toFront:an,toBack:ak,hasClass:ah,addClass:af,removeClass:cg,setClass:cu,getClass:P,setOpacity:av,testProp:bG,setTransform:a5,setPosition:cj,getPosition:cD,disableTextSelection:bL,enableTextSelection:aa,disableImageDrag:aR,enableImageDrag:D,preventOutline:aD,restoreOutline:aK,getSizedParentNode:ch,getScale:aC});function cs(dR,dO,dQ,dN){if(typeof dO==="object"){for(var dP in dO){p(dR,dP,dO[dP],dQ)}}else{dO=g(dO);for(var dM=0,dL=dO.length;dM<dL;dM++){p(dR,dO[dM],dQ,dN)}}return this}var dE="_leaflet_events";function dD(dS,dP,dR,dO){if(typeof dP==="object"){for(var dQ in dP){df(dS,dQ,dP[dQ],dR)}}else{if(dP){dP=g(dP);for(var dN=0,dL=dP.length;dN<dL;dN++){df(dS,dP[dN],dR,dO)}}else{for(var dM in dS[dE]){df(dS,dM,dS[dE][dM])}delete dS[dE]}}return this}function p(dQ,dP,dO,dM){var dR=dP+ag(dO)+(dM?"_"+ag(dM):"");if(dQ[dE]&&dQ[dE][dR]){return this}var dN=function(dS){return dO.call(dM||dQ,dS||window.event)};var dL=dN;if(cR&&dP.indexOf("touch")===0){dk(dQ,dP,dN,dR)}else{if(bt&&(dP==="dblclick")&&aQ&&!(cR&&aA)){aQ(dQ,dN,dR)}else{if("addEventListener" in dQ){if(dP==="mousewheel"){dQ.addEventListener("onwheel" in dQ?"wheel":"mousewheel",dN,false)}else{if((dP==="mouseenter")||(dP==="mouseleave")){dN=function(dS){dS=dS||window.event;if(bS(dQ,dS)){dL(dS)}};dQ.addEventListener(dP==="mouseenter"?"mouseover":"mouseout",dN,false)}else{if(dP==="click"&&a2){dN=function(dS){au(dS,dL)}}dQ.addEventListener(dP,dN,false)}}}else{if("attachEvent" in dQ){dQ.attachEvent("on"+dP,dN)}}}}dQ[dE]=dQ[dE]||{};dQ[dE][dR]=dN}function df(dP,dO,dN,dL){var dQ=dO+ag(dN)+(dL?"_"+ag(dL):""),dM=dP[dE]&&dP[dE][dQ];if(!dM){return this}if(cR&&dO.indexOf("touch")===0){bn(dP,dO,dQ)}else{if(bt&&(dO==="dblclick")&&cK&&!(cR&&aA)){cK(dP,dQ)}else{if("removeEventListener" in dP){if(dO==="mousewheel"){dP.removeEventListener("onwheel" in dP?"wheel":"mousewheel",dM,false)}else{dP.removeEventListener(dO==="mouseenter"?"mouseover":dO==="mouseleave"?"mouseout":dO,dM,false)}}else{if("detachEvent" in dP){dP.detachEvent("on"+dO,dM)}}}}dP[dE][dQ]=null}function bQ(dL){if(dL.stopPropagation){dL.stopPropagation()}else{if(dL.originalEvent){dL.originalEvent._stopped=true}else{dL.cancelBubble=true}}al(dL);return this}function aJ(dL){p(dL,"mousewheel",bQ);return this}function az(dL){cs(dL,"mousedown touchstart dblclick",bQ);p(dL,"click",am);return this}function dA(dL){if(dL.preventDefault){dL.preventDefault()}else{dL.returnValue=false}return this}function bP(dL){dA(dL);bQ(dL);return this}function cA(dM,dL){if(!dL){return new c3(dM.clientX,dM.clientY)}var dO=aC(dL),dN=dO.boundingClientRect;return new c3((dM.clientX-dN.left)/dO.x-dL.clientLeft,(dM.clientY-dN.top)/dO.y-dL.clientTop)}var cn=(b1&&aA)?2*window.devicePixelRatio:bp?window.devicePixelRatio:1;function du(dL){return(aT)?dL.wheelDeltaY/2:(dL.deltaY&&dL.deltaMode===0)?-dL.deltaY/cn:(dL.deltaY&&dL.deltaMode===1)?-dL.deltaY*20:(dL.deltaY&&dL.deltaMode===2)?-dL.deltaY*60:(dL.deltaX||dL.deltaZ)?0:dL.wheelDelta?(dL.wheelDeltaY||dL.wheelDelta)/2:(dL.detail&&Math.abs(dL.detail)<32765)?-dL.detail*20:dL.detail?dL.detail/-32765*60:0}var w={};function am(dL){w[dL.type]=true}function al(dM){var dL=w[dM.type];w[dM.type]=false;return dL}function bS(dL,dO){var dN=dO.relatedTarget;if(!dN){return true}try{while(dN&&(dN!==dL)){dN=dN.parentNode}}catch(dM){return false}return(dN!==dL)}var bf;function au(dO,dN){var dM=(dO.timeStamp||(dO.originalEvent&&dO.originalEvent.timeStamp)),dL=bf&&(dM-bf);if((dL&&dL>100&&dL<500)||(dO.target._simulatedClick&&!dO._simulated)){bP(dO);return}bf=dM;dN(dO)}var bA=(Object.freeze||Object)({on:cs,off:dD,stopPropagation:bQ,disableScrollPropagation:aJ,disableClickPropagation:az,preventDefault:dA,stop:bP,getMousePosition:cA,getWheelDelta:du,fakeStop:am,skipped:al,isExternalTarget:bS,addListener:cs,removeListener:dD});var cZ=ci.extend({run:function(dM,dL,dN,dO){this.stop();this._el=dM;this._inProgress=true;this._duration=dN||0.25;this._easeOutPower=1/Math.max(dO||0.5,0.2);this._startPos=cD(dM);this._offset=dL.subtract(this._startPos);this._startTime=+new Date();this.fire("start");this._animate()},stop:function(){if(!this._inProgress){return}this._step(true);this._complete()},_animate:function(){this._animId=dC(this._animate,this);this._step()},_step:function(dM){var dL=(+new Date())-this._startTime,dN=this._duration*1000;if(dL<dN){this._runFrame(this._easeOut(dL/dN),dM)}else{this._runFrame(1);this._complete()}},_runFrame:function(dM,dL){var dN=this._startPos.add(this._offset.multiplyBy(dM));if(dL){dN._round()}cj(this._el,dN);this.fire("step")},_complete:function(){cW(this._animId);this._inProgress=false;this.fire("end")},_easeOut:function(dL){return 1-Math.pow(1-dL,this._easeOutPower)}});var b9=ci.extend({options:{crs:a6,center:undefined,zoom:undefined,minZoom:undefined,maxZoom:undefined,layers:[],maxBounds:undefined,renderer:undefined,zoomAnimation:true,zoomAnimationThreshold:4,fadeAnimation:true,markerZoomAnimation:true,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:true},initialize:function(dM,dL){dL=b8(this,dL);this._handlers=[];this._layers={};this._zoomBoundLayers={};this._sizeChanged=true;this._initContainer(dM);this._initLayout();this._onResize=bW(this._onResize,this);this._initEvents();if(dL.maxBounds){this.setMaxBounds(dL.maxBounds)}if(dL.zoom!==undefined){this._zoom=this._limitZoom(dL.zoom)}if(dL.center&&dL.zoom!==undefined){this.setView(dc(dL.center),dL.zoom,{reset:true})}this.callInitHooks();this._zoomAnimated=C&&bs&&!b6&&this.options.zoomAnimation;if(this._zoomAnimated){this._createAnimProxy();cs(this._proxy,c7,this._catchTransitionEnd,this)}this._addLayers(this.options.layers)},setView:function(dL,dO,dM){dO=dO===undefined?this._zoom:this._limitZoom(dO);dL=this._limitCenter(dc(dL),dO,this.options.maxBounds);dM=dM||{};this._stop();if(this._loaded&&!dM.reset&&dM!==true){if(dM.animate!==undefined){dM.zoom=ct({animate:dM.animate},dM.zoom);dM.pan=ct({animate:dM.animate,duration:dM.duration},dM.pan)}var dN=(this._zoom!==dO)?this._tryAnimatedZoom&&this._tryAnimatedZoom(dL,dO,dM.zoom):this._tryAnimatedPan(dL,dM.pan);if(dN){clearTimeout(this._sizeTimer);return this}}this._resetView(dL,dO);return this},setZoom:function(dM,dL){if(!this._loaded){this._zoom=dM;return this}return this.setView(this.getCenter(),dM,{zoom:dL})},zoomIn:function(dM,dL){dM=dM||(bs?this.options.zoomDelta:1);return this.setZoom(this._zoom+dM,dL)},zoomOut:function(dM,dL){dM=dM||(bs?this.options.zoomDelta:1);return this.setZoom(this._zoom-dM,dL)},setZoomAround:function(dS,dQ,dP){var dR=this.getZoomScale(dQ),dO=this.getSize().divideBy(2),dN=dS instanceof c3?dS:this.latLngToContainerPoint(dS),dL=dN.subtract(dO).multiplyBy(1-1/dR),dM=this.containerPointToLatLng(dO.add(dL));return this.setView(dM,dQ,{zoom:dP})},_getBoundsCenterZoom:function(dM,dT){dT=dT||{};dM=dM.getBounds?dM.getBounds():e(dM);var dO=cX(dT.paddingTopLeft||dT.padding||[0,0]),dN=cX(dT.paddingBottomRight||dT.padding||[0,0]),dS=this.getBoundsZoom(dM,false,dO.add(dN));dS=(typeof dT.maxZoom==="number")?Math.min(dT.maxZoom,dS):dS;if(dS===Infinity){return{center:dM.getCenter(),zoom:dS}}var dQ=dN.subtract(dO).divideBy(2),dR=this.project(dM.getSouthWest(),dS),dP=this.project(dM.getNorthEast(),dS),dL=this.unproject(dR.add(dP).divideBy(2).add(dQ),dS);return{center:dL,zoom:dS}},fitBounds:function(dM,dL){dM=e(dM);if(!dM.isValid()){throw new Error("Bounds are not valid.")}var dN=this._getBoundsCenterZoom(dM,dL);return this.setView(dN.center,dN.zoom,dL)},fitWorld:function(dL){return this.fitBounds([[-90,-180],[90,180]],dL)},panTo:function(dL,dM){return this.setView(dL,this._zoom,{pan:dM})},panBy:function(dN,dL){dN=cX(dN).round();dL=dL||{};if(!dN.x&&!dN.y){return this.fire("moveend")}if(dL.animate!==true&&!this.getSize().contains(dN)){this._resetView(this.unproject(this.project(this.getCenter()).add(dN)),this.getZoom());return this}if(!this._panAnim){this._panAnim=new cZ();this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)}if(!dL.noMoveStart){this.fire("movestart")}if(dL.animate!==false){af(this._mapPane,"leaflet-pan-anim");var dM=this._getMapPanePos().subtract(dN).round();this._panAnim.run(this._mapPane,dM,dL.duration||0.25,dL.easeLinearity)}else{this._rawPanBy(dN);this.fire("move").fire("moveend")}return this},flyTo:function(d5,d2,dQ){dQ=dQ||{};if(dQ.animate===false||!bs){return this.setView(d5,d2,dQ)}this._stop();var d6=this.project(this.getCenter()),dO=this.project(d5),d4=this.getSize(),dU=this._zoom;d5=dc(d5);d2=d2===undefined?dU:d2;var dZ=Math.max(d4.x,d4.y),dY=dZ*this.getZoomScale(dU,d2),d8=(dO.distanceTo(d6))||1,dN=1.42,dT=dN*dN;function d3(ed){var ec=ed?-1:1,eb=ed?dY:dZ,eg=dY*dY-dZ*dZ+ec*dT*dT*d8*d8,ea=2*eb*dT*d8,d9=eg/ea,ef=Math.sqrt(d9*d9+1)-d9;var ee=ef<1e-9?-18:Math.log(ef);return ee}function dW(d9){return(Math.exp(d9)-Math.exp(-d9))/2}function dM(d9){return(Math.exp(d9)+Math.exp(-d9))/2}function dP(d9){return dW(d9)/dM(d9)}var d7=d3(0);function dX(d9){return dZ*(dM(d7)/dM(d7+dN*d9))}function d0(d9){return dZ*(dM(d7)*dP(d7+dN*d9)-dW(d7))/dT}function dV(d9){return 1-Math.pow(1-d9,1.5)}var dS=Date.now(),dR=(d3(1)-d7)/dN,dL=dQ.duration?1000*dQ.duration:1000*dR*0.8;function d1(){var d9=(Date.now()-dS)/dL,ea=dV(d9)*dR;if(d9<=1){this._flyToFrame=dC(d1,this);this._move(this.unproject(d6.add(dO.subtract(d6).multiplyBy(d0(ea)/d8)),dU),this.getScaleZoom(dZ/dX(ea),dU),{flyTo:true})}else{this._move(d5,d2)._moveEnd(true)}}this._moveStart(true,dQ.noMoveStart);d1.call(this);return this},flyToBounds:function(dM,dL){var dN=this._getBoundsCenterZoom(dM,dL);return this.flyTo(dN.center,dN.zoom,dL)},setMaxBounds:function(dL){dL=e(dL);if(!dL.isValid()){this.options.maxBounds=null;return this.off("moveend",this._panInsideMaxBounds)}else{if(this.options.maxBounds){this.off("moveend",this._panInsideMaxBounds)}}this.options.maxBounds=dL;if(this._loaded){this._panInsideMaxBounds()}return this.on("moveend",this._panInsideMaxBounds)},setMinZoom:function(dL){var dM=this.options.minZoom;this.options.minZoom=dL;if(this._loaded&&dM!==dL){this.fire("zoomlevelschange");if(this.getZoom()<this.options.minZoom){return this.setZoom(dL)}}return this},setMaxZoom:function(dL){var dM=this.options.maxZoom;this.options.maxZoom=dL;if(this._loaded&&dM!==dL){this.fire("zoomlevelschange");if(this.getZoom()>this.options.maxZoom){return this.setZoom(dL)}}return this},panInsideBounds:function(dO,dN){this._enforcingBounds=true;var dL=this.getCenter(),dM=this._limitCenter(dL,this._zoom,e(dO));if(!dL.equals(dM)){this.panTo(dM,dN)}this._enforcingBounds=false;return this},panInside:function(dP,dW){dW=dW||{};var dN=cX(dW.paddingTopLeft||dW.padding||[0,0]),dM=cX(dW.paddingBottomRight||dW.padding||[0,0]),dL=this.getCenter(),dT=this.project(dL),dQ=this.project(dP),dS=this.getPixelBounds(),dV=dS.getSize().divideBy(2),dR=E([dS.min.add(dN),dS.max.subtract(dM)]);if(!dR.contains(dQ)){this._enforcingBounds=true;var dU=dT.subtract(dQ),dO=cX(dQ.x+dU.x,dQ.y+dU.y);if(dQ.x<dR.min.x||dQ.x>dR.max.x){dO.x=dT.x-dU.x;if(dU.x>0){dO.x+=dV.x-dN.x}else{dO.x-=dV.x-dM.x}}if(dQ.y<dR.min.y||dQ.y>dR.max.y){dO.y=dT.y-dU.y;if(dU.y>0){dO.y+=dV.y-dN.y}else{dO.y-=dV.y-dM.y}}this.panTo(this.unproject(dO),dW);this._enforcingBounds=false}return this},invalidateSize:function(dN){if(!this._loaded){return this}dN=ct({animate:false,pan:true},dN===true?{animate:true}:dN);var dO=this.getSize();this._sizeChanged=true;this._lastCenter=null;var dM=this.getSize(),dQ=dO.divideBy(2).round(),dL=dM.divideBy(2).round(),dP=dQ.subtract(dL);if(!dP.x&&!dP.y){return this}if(dN.animate&&dN.pan){this.panBy(dP)}else{if(dN.pan){this._rawPanBy(dP)}this.fire("move");if(dN.debounceMoveend){clearTimeout(this._sizeTimer);this._sizeTimer=setTimeout(bW(this.fire,this,"moveend"),200)}else{this.fire("moveend")}}return this.fire("resize",{oldSize:dO,newSize:dM})},stop:function(){this.setZoom(this._limitZoom(this._zoom));if(!this.options.zoomSnap){this.fire("viewreset")}return this._stop()},locate:function(dL){dL=this._locateOptions=ct({timeout:10000,watch:false},dL);if(!("geolocation" in navigator)){this._handleGeolocationError({code:0,message:"Geolocation not supported."});return this}var dN=bW(this._handleGeolocationResponse,this),dM=bW(this._handleGeolocationError,this);if(dL.watch){this._locationWatchId=navigator.geolocation.watchPosition(dN,dM,dL)}else{navigator.geolocation.getCurrentPosition(dN,dM,dL)}return this},stopLocate:function(){if(navigator.geolocation&&navigator.geolocation.clearWatch){navigator.geolocation.clearWatch(this._locationWatchId)}if(this._locateOptions){this._locateOptions.setView=false}return this},_handleGeolocationError:function(dL){var dN=dL.code,dM=dL.message||(dN===1?"permission denied":(dN===2?"position unavailable":"timeout"));if(this._locateOptions.setView&&!this._loaded){this.fitWorld()}this.fire("locationerror",{code:dN,message:"Geolocation error: "+dM+"."})},_handleGeolocationResponse:function(dQ){var dP=dQ.coords.latitude,dR=dQ.coords.longitude,dM=new bl(dP,dR),dL=dM.toBounds(dQ.coords.accuracy*2),dT=this._locateOptions;if(dT.setView){var dS=this.getBoundsZoom(dL);this.setView(dM,dT.maxZoom?Math.min(dS,dT.maxZoom):dS)}var dO={latlng:dM,bounds:dL,timestamp:dQ.timestamp};for(var dN in dQ.coords){if(typeof dQ.coords[dN]==="number"){dO[dN]=dQ.coords[dN]}}this.fire("locationfound",dO)},addHandler:function(dL,dN){if(!dN){return this}var dM=this[dL]=new dN(this);this._handlers.push(dM);if(this.options[dL]){dM.enable()}return this},remove:function(){this._initEvents(true);if(this._containerId!==this._container._leaflet_id){throw new Error("Map container is being reused by another instance")}try{delete this._container._leaflet_id;delete this._containerId}catch(dM){this._container._leaflet_id=undefined;this._containerId=undefined}if(this._locationWatchId!==undefined){this.stopLocate()}this._stop();ad(this._mapPane);if(this._clearControlPos){this._clearControlPos()}if(this._resizeRequest){cW(this._resizeRequest);this._resizeRequest=null}this._clearHandlers();if(this._loaded){this.fire("unload")}var dL;for(dL in this._layers){this._layers[dL].remove()}for(dL in this._panes){ad(this._panes[dL])}this._layers=[];this._panes=[];delete this._mapPane;delete this._renderer;return this},createPane:function(dM,dL){var dN="leaflet-pane"+(dM?" leaflet-"+dM.replace("Pane","")+"-pane":""),dO=bT("div",dN,dL||this._mapPane);if(dM){this._panes[dM]=dO}return dO},getCenter:function(){this._checkIfLoaded();if(this._lastCenter&&!this._moved()){return this._lastCenter}return this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var dM=this.getPixelBounds(),dL=this.unproject(dM.getBottomLeft()),dN=this.unproject(dM.getTopRight());return new aZ(dL,dN)},getMinZoom:function(){return this.options.minZoom===undefined?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===undefined?(this._layersMaxZoom===undefined?Infinity:this._layersMaxZoom):this.options.maxZoom},getBoundsZoom:function(dL,dO,dV){dL=e(dL);dV=cX(dV||[0,0]);var dW=this.getZoom()||0,dP=this.getMinZoom(),dU=this.getMaxZoom(),dS=dL.getNorthWest(),dT=dL.getSouthEast(),dY=this.getSize().subtract(dV),dX=E(this.project(dT,dW),this.project(dS,dW)).getSize(),dN=bs?this.options.zoomSnap:1,dR=dY.x/dX.x,dQ=dY.y/dX.y,dM=dO?Math.max(dR,dQ):Math.min(dR,dQ);dW=this.getScaleZoom(dM,dW);if(dN){dW=Math.round(dW/(dN/100))*(dN/100);dW=dO?Math.ceil(dW/dN)*dN:Math.floor(dW/dN)*dN}return Math.max(dP,Math.min(dU,dW))},getSize:function(){if(!this._size||this._sizeChanged){this._size=new c3(this._container.clientWidth||0,this._container.clientHeight||0);this._sizeChanged=false}return this._size.clone()},getPixelBounds:function(dL,dN){var dM=this._getTopLeftPoint(dL,dN);return new cq(dM,dM.add(this.getSize()))},getPixelOrigin:function(){this._checkIfLoaded();return this._pixelOrigin},getPixelWorldBounds:function(dL){return this.options.crs.getProjectedBounds(dL===undefined?this.getZoom():dL)},getPane:function(dL){return typeof dL==="string"?this._panes[dL]:dL},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(dM,dN){var dL=this.options.crs;dN=dN===undefined?this._zoom:dN;return dL.scale(dM)/dL.scale(dN)},getScaleZoom:function(dO,dN){var dL=this.options.crs;dN=dN===undefined?this._zoom:dN;var dM=dL.zoom(dO*dL.scale(dN));return isNaN(dM)?Infinity:dM},project:function(dM,dL){dL=dL===undefined?this._zoom:dL;return this.options.crs.latLngToPoint(dc(dM),dL)},unproject:function(dL,dM){dM=dM===undefined?this._zoom:dM;return this.options.crs.pointToLatLng(cX(dL),dM)},layerPointToLatLng:function(dL){var dM=cX(dL).add(this.getPixelOrigin());return this.unproject(dM)},latLngToLayerPoint:function(dM){var dL=this.project(dc(dM))._round();return dL._subtract(this.getPixelOrigin())},wrapLatLng:function(dL){return this.options.crs.wrapLatLng(dc(dL))},wrapLatLngBounds:function(dL){return this.options.crs.wrapLatLngBounds(e(dL))},distance:function(dL,dM){return this.options.crs.distance(dc(dL),dc(dM))},containerPointToLayerPoint:function(dL){return cX(dL).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(dL){return cX(dL).add(this._getMapPanePos())},containerPointToLatLng:function(dL){var dM=this.containerPointToLayerPoint(cX(dL));return this.layerPointToLatLng(dM)},latLngToContainerPoint:function(dL){return this.layerPointToContainerPoint(this.latLngToLayerPoint(dc(dL)))},mouseEventToContainerPoint:function(dL){return cA(dL,this._container)},mouseEventToLayerPoint:function(dL){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(dL))},mouseEventToLatLng:function(dL){return this.layerPointToLatLng(this.mouseEventToLayerPoint(dL))},_initContainer:function(dM){var dL=this._container=u(dM);if(!dL){throw new Error("Map container not found.")}else{if(dL._leaflet_id){throw new Error("Map container is already initialized.")}}cs(dL,"scroll",this._onScroll,this);this._containerId=ag(dL)},_initLayout:function(){var dM=this._container;this._fadeAnimated=this.options.fadeAnimation&&bs;af(dM,"leaflet-container"+(bt?" leaflet-touch":"")+(ba?" leaflet-retina":"")+(cy?" leaflet-oldie":"")+(bw?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var dL=cB(dM,"position");if(dL!=="absolute"&&dL!=="relative"&&dL!=="fixed"){dM.style.position="relative"}this._initPanes();if(this._initControlPos){this._initControlPos()}},_initPanes:function(){var dL=this._panes={};this._paneRenderers={};this._mapPane=this.createPane("mapPane",this._container);cj(this._mapPane,new c3(0,0));this.createPane("tilePane");this.createPane("shadowPane");this.createPane("overlayPane");this.createPane("markerPane");this.createPane("tooltipPane");this.createPane("popupPane");if(!this.options.markerZoomAnimation){af(dL.markerPane,"leaflet-zoom-hide");af(dL.shadowPane,"leaflet-zoom-hide")}},_resetView:function(dM,dN){cj(this._mapPane,new c3(0,0));var dO=!this._loaded;this._loaded=true;dN=this._limitZoom(dN);this.fire("viewprereset");var dL=this._zoom!==dN;this._moveStart(dL,false)._move(dM,dN)._moveEnd(dL);this.fire("viewreset");if(dO){this.fire("load")}},_moveStart:function(dL,dM){if(dL){this.fire("zoomstart")}if(!dM){this.fire("movestart")}return this},_move:function(dM,dN,dO){if(dN===undefined){dN=this._zoom}var dL=this._zoom!==dN;this._zoom=dN;this._lastCenter=dM;this._pixelOrigin=this._getNewPixelOrigin(dM);if(dL||(dO&&dO.pinch)){this.fire("zoom",dO)}return this.fire("move",dO)},_moveEnd:function(dL){if(dL){this.fire("zoomend")}return this.fire("moveend")},_stop:function(){cW(this._flyToFrame);if(this._panAnim){this._panAnim.stop()}return this},_rawPanBy:function(dL){cj(this._mapPane,this._getMapPanePos().subtract(dL))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){if(!this._enforcingBounds){this.panInsideBounds(this.options.maxBounds)}},_checkIfLoaded:function(){if(!this._loaded){throw new Error("Set map center and zoom first.")}},_initEvents:function(dM){this._targets={};this._targets[ag(this._container)]=this;var dL=dM?dD:cs;dL(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this);if(this.options.trackResize){dL(window,"resize",this._onResize,this)}if(bs&&this.options.transform3DLimit){(dM?this.off:this.on).call(this,"moveend",this._onMoveEnd)}},_onResize:function(){cW(this._resizeRequest);this._resizeRequest=dC(function(){this.invalidateSize({debounceMoveend:true})},this)},_onScroll:function(){this._container.scrollTop=0;this._container.scrollLeft=0},_onMoveEnd:function(){var dL=this._getMapPanePos();if(Math.max(Math.abs(dL.x),Math.abs(dL.y))>=this.options.transform3DLimit){this._resetView(this.getCenter(),this.getZoom())}},_findEventTargets:function(dQ,dM){var dL=[],dP,dO=dM==="mouseout"||dM==="mouseover",dR=dQ.target||dQ.srcElement,dN=false;while(dR){dP=this._targets[ag(dR)];if(dP&&(dM==="click"||dM==="preclick")&&!dQ._simulated&&this._draggableMoved(dP)){dN=true;break}if(dP&&dP.listens(dM,true)){if(dO&&!bS(dR,dQ)){break}dL.push(dP);if(dO){break}}if(dR===this._container){break}dR=dR.parentNode}if(!dL.length&&!dN&&!dO&&bS(dR,dQ)){dL=[this]}return dL},_handleDOMEvent:function(dM){if(!this._loaded||al(dM)){return}var dL=dM.type;if(dL==="mousedown"||dL==="keypress"||dL==="keyup"||dL==="keydown"){aD(dM.target||dM.srcElement)}this._fireDOMEvent(dM,dL)},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(dR,dO,dL){if(dR.type==="click"){var dM=ct({},dR);dM.type="preclick";this._fireDOMEvent(dM,dM.type,dL)}if(dR._stopped){return}dL=(dL||[]).concat(this._findEventTargets(dR,dO));if(!dL.length){return}var dQ=dL[0];if(dO==="contextmenu"&&dQ.listens(dO,true)){dA(dR)}var dP={originalEvent:dR};if(dR.type!=="keypress"&&dR.type!=="keydown"&&dR.type!=="keyup"){var dS=dQ.getLatLng&&(!dQ._radius||dQ._radius<=10);dP.containerPoint=dS?this.latLngToContainerPoint(dQ.getLatLng()):this.mouseEventToContainerPoint(dR);dP.layerPoint=this.containerPointToLayerPoint(dP.containerPoint);dP.latlng=dS?dQ.getLatLng():this.layerPointToLatLng(dP.layerPoint)}for(var dN=0;dN<dL.length;dN++){dL[dN].fire(dO,dP,true);if(dP.originalEvent._stopped||(dL[dN].options.bubblingMouseEvents===false&&dy(this._mouseEvents,dO)!==-1)){return}}},_draggableMoved:function(dL){dL=dL.dragging&&dL.dragging.enabled()?dL:this;return(dL.dragging&&dL.dragging.moved())||(this.boxZoom&&this.boxZoom.moved())},_clearHandlers:function(){for(var dM=0,dL=this._handlers.length;dM<dL;dM++){this._handlers[dM].disable()}},whenReady:function(dM,dL){if(this._loaded){dM.call(dL||this,{target:this})}else{this.on("load",dM,dL)}return this},_getMapPanePos:function(){return cD(this._mapPane)||new c3(0,0)},_moved:function(){var dL=this._getMapPanePos();return dL&&!dL.equals([0,0])},_getTopLeftPoint:function(dL,dN){var dM=dL&&dN!==undefined?this._getNewPixelOrigin(dL,dN):this.getPixelOrigin();return dM.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(dL,dN){var dM=this.getSize()._divideBy(2);return this.project(dL,dN)._subtract(dM)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(dO,dN,dL){var dM=this._getNewPixelOrigin(dL,dN);return this.project(dO,dN)._subtract(dM)},_latLngBoundsToNewLayerBounds:function(dO,dN,dL){var dM=this._getNewPixelOrigin(dL,dN);return E([this.project(dO.getSouthWest(),dN)._subtract(dM),this.project(dO.getNorthWest(),dN)._subtract(dM),this.project(dO.getSouthEast(),dN)._subtract(dM),this.project(dO.getNorthEast(),dN)._subtract(dM)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(dL){return this.latLngToLayerPoint(dL).subtract(this._getCenterLayerPoint())},_limitCenter:function(dL,dO,dN){if(!dN){return dL}var dR=this.project(dL,dO),dM=this.getSize().divideBy(2),dP=new cq(dR.subtract(dM),dR.add(dM)),dQ=this._getBoundsOffset(dP,dN,dO);if(dQ.round().equals([0,0])){return dL}return this.unproject(dR.add(dQ),dO)},_limitOffset:function(dO,dL){if(!dL){return dO}var dN=this.getPixelBounds(),dM=new cq(dN.min.add(dO),dN.max.add(dO));return dO.add(this._getBoundsOffset(dM,dL))},_getBoundsOffset:function(dQ,dN,dR){var dM=E(this.project(dN.getNorthEast(),dR),this.project(dN.getSouthWest(),dR)),dS=dM.min.subtract(dQ.min),dP=dM.max.subtract(dQ.max),dO=this._rebound(dS.x,-dP.x),dL=this._rebound(dS.y,-dP.y);return new c3(dO,dL)},_rebound:function(dM,dL){return dM+dL>0?Math.round(dM-dL)/2:Math.max(0,Math.ceil(dM))-Math.max(0,Math.floor(dL))},_limitZoom:function(dO){var dN=this.getMinZoom(),dM=this.getMaxZoom(),dL=bs?this.options.zoomSnap:1;if(dL){dO=Math.round(dO/dL)*dL}return Math.max(dN,Math.min(dM,dO))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){cg(this._mapPane,"leaflet-pan-anim");this.fire("moveend")},_tryAnimatedPan:function(dL,dM){var dN=this._getCenterOffset(dL)._trunc();if((dM&&dM.animate)!==true&&!this.getSize().contains(dN)){return false}this.panBy(dN,dM);return true},_createAnimProxy:function(){var dL=this._proxy=bT("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(dL);this.on("zoomanim",function(dN){var dO=a3,dM=this._proxy.style[dO];a5(this._proxy,this.project(dN.center,dN.zoom),this.getZoomScale(dN.zoom,1));if(dM===this._proxy.style[dO]&&this._animatingZoom){this._onZoomTransitionEnd()}},this);this.on("load moveend",function(){var dN=this.getCenter(),dM=this.getZoom();a5(this._proxy,this.project(dN,dM),this.getZoomScale(dM,1))},this);this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){ad(this._proxy);delete this._proxy},_catchTransitionEnd:function(dL){if(this._animatingZoom&&dL.propertyName.indexOf("transform")>=0){this._onZoomTransitionEnd()}},_nothingToAnimate:function(){return !this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(dL,dN,dM){if(this._animatingZoom){return true}dM=dM||{};if(!this._zoomAnimated||dM.animate===false||this._nothingToAnimate()||Math.abs(dN-this._zoom)>this.options.zoomAnimationThreshold){return false}var dP=this.getZoomScale(dN),dO=this._getCenterOffset(dL)._divideBy(1-1/dP);if(dM.animate!==true&&!this.getSize().contains(dO)){return false}dC(function(){this._moveStart(true,false)._animateZoom(dL,dN,true)},this);return true},_animateZoom:function(dL,dO,dM,dN){if(!this._mapPane){return}if(dM){this._animatingZoom=true;this._animateToCenter=dL;this._animateToZoom=dO;af(this._mapPane,"leaflet-zoom-anim")}this.fire("zoomanim",{center:dL,zoom:dO,noUpdate:dN});setTimeout(bW(this._onZoomTransitionEnd,this),250)},_onZoomTransitionEnd:function(){if(!this._animatingZoom){return}if(this._mapPane){cg(this._mapPane,"leaflet-zoom-anim")}this._animatingZoom=false;this._move(this._animateToCenter,this._animateToZoom);dC(function(){this._moveEnd(true)},this)}});function s(dM,dL){return new b9(dM,dL)}var dd=by.extend({options:{position:"topright"},initialize:function(dL){b8(this,dL)},getPosition:function(){return this.options.position},setPosition:function(dL){var dM=this._map;if(dM){dM.removeControl(this)}this.options.position=dL;if(dM){dM.addControl(this)}return this},getContainer:function(){return this._container},addTo:function(dN){this.remove();this._map=dN;var dL=this._container=this.onAdd(dN),dO=this.getPosition(),dM=dN._controlCorners[dO];af(dL,"leaflet-control");if(dO.indexOf("bottom")!==-1){dM.insertBefore(dL,dM.firstChild)}else{dM.appendChild(dL)}this._map.on("unload",this.remove,this);return this},remove:function(){if(!this._map){return this}ad(this._container);if(this.onRemove){this.onRemove(this._map)}this._map.off("unload",this.remove,this);this._map=null;return this},_refocusOnMap:function(dL){if(this._map&&dL&&dL.screenX>0&&dL.screenY>0){this._map.getContainer().focus()}}});var Z=function(dL){return new dd(dL)};b9.include({addControl:function(dL){dL.addTo(this);return this},removeControl:function(dL){dL.remove();return this},_initControlPos:function(){var dN=this._controlCorners={},dM="leaflet-",dL=this._controlContainer=bT("div",dM+"control-container",this._container);function dO(dQ,dR){var dP=dM+dQ+" "+dM+dR;dN[dQ+dR]=bT("div",dP,dL)}dO("top","left");dO("top","right");dO("bottom","left");dO("bottom","right")},_clearControlPos:function(){for(var dL in this._controlCorners){ad(this._controlCorners[dL])}ad(this._controlContainer);delete this._controlCorners;delete this._controlContainer}});var bk=dd.extend({options:{collapsed:true,position:"topright",autoZIndex:true,hideSingleBase:false,sortLayers:false,sortFunction:function(dO,dM,dN,dL){return dN<dL?-1:(dL<dN?1:0)}},initialize:function(dO,dN,dL){b8(this,dL);this._layerControlInputs=[];this._layers=[];this._lastZIndex=0;this._handlingClick=false;for(var dM in dO){this._addLayer(dO[dM],dM)}for(dM in dN){this._addLayer(dN[dM],dM,true)}},onAdd:function(dM){this._initLayout();this._update();this._map=dM;dM.on("zoomend",this._checkDisabledLayers,this);for(var dL=0;dL<this._layers.length;dL++){this._layers[dL].layer.on("add remove",this._onLayerChange,this)}return this._container},addTo:function(dL){dd.prototype.addTo.call(this,dL);return this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var dL=0;dL<this._layers.length;dL++){this._layers[dL].layer.off("add remove",this._onLayerChange,this)}},addBaseLayer:function(dM,dL){this._addLayer(dM,dL);return(this._map)?this._update():this},addOverlay:function(dM,dL){this._addLayer(dM,dL,true);return(this._map)?this._update():this},removeLayer:function(dL){dL.off("add remove",this._onLayerChange,this);var dM=this._getLayer(ag(dL));if(dM){this._layers.splice(this._layers.indexOf(dM),1)}return(this._map)?this._update():this},expand:function(){af(this._container,"leaflet-control-layers-expanded");this._section.style.height=null;var dL=this._map.getSize().y-(this._container.offsetTop+50);if(dL<this._section.clientHeight){af(this._section,"leaflet-control-layers-scrollbar");this._section.style.height=dL+"px"}else{cg(this._section,"leaflet-control-layers-scrollbar")}this._checkDisabledLayers();return this},collapse:function(){cg(this._container,"leaflet-control-layers-expanded");return this},_initLayout:function(){var dM="leaflet-control-layers",dL=this._container=bT("div",dM),dP=this.options.collapsed;dL.setAttribute("aria-haspopup",true);az(dL);aJ(dL);var dO=this._section=bT("section",dM+"-list");if(dP){this._map.on("click",this.collapse,this);if(!a2){cs(dL,{mouseenter:this.expand,mouseleave:this.collapse},this)}}var dN=this._layersLink=bT("a",dM+"-toggle",dL);dN.href="#";dN.title="Layers";if(bt){cs(dN,"click",bP);cs(dN,"click",this.expand,this)}else{cs(dN,"focus",this.expand,this)}if(!dP){this.expand()}this._baseLayersList=bT("div",dM+"-base",dO);this._separator=bT("div",dM+"-separator",dO);this._overlaysList=bT("div",dM+"-overlays",dO);dL.appendChild(dO)},_getLayer:function(dM){for(var dL=0;dL<this._layers.length;dL++){if(this._layers[dL]&&ag(this._layers[dL].layer)===dM){return this._layers[dL]}}},_addLayer:function(dN,dM,dL){if(this._map){dN.on("add remove",this._onLayerChange,this)}this._layers.push({layer:dN,name:dM,overlay:dL});if(this.options.sortLayers){this._layers.sort(bW(function(dP,dO){return this.options.sortFunction(dP.layer,dO.layer,dP.name,dO.name)},this))}if(this.options.autoZIndex&&dN.setZIndex){this._lastZIndex++;dN.setZIndex(this._lastZIndex)}this._expandIfNotCollapsed()},_update:function(){if(!this._container){return this}a4(this._baseLayersList);a4(this._overlaysList);this._layerControlInputs=[];var dL,dO,dN,dP,dM=0;for(dN=0;dN<this._layers.length;dN++){dP=this._layers[dN];this._addItem(dP);dO=dO||dP.overlay;dL=dL||!dP.overlay;dM+=!dP.overlay?1:0}if(this.options.hideSingleBase){dL=dL&&dM>1;this._baseLayersList.style.display=dL?"":"none"}this._separator.style.display=dO&&dL?"":"none";return this},_onLayerChange:function(dN){if(!this._handlingClick){this._update()}var dM=this._getLayer(ag(dN.target));var dL=dM.overlay?(dN.type==="add"?"overlayadd":"overlayremove"):(dN.type==="add"?"baselayerchange":null);if(dL){this._map.fire(dL,dM)}},_createRadioElement:function(dL,dO){var dN='<input type="radio" class="leaflet-control-layers-selector" name="'+dL+'"'+(dO?' checked="checked"':"")+"/>";var dM=document.createElement("div");dM.innerHTML=dN;return dM.firstChild},_addItem:function(dR){var dO=document.createElement("label"),dQ=this._map.hasLayer(dR.layer),dM;if(dR.overlay){dM=document.createElement("input");dM.type="checkbox";dM.className="leaflet-control-layers-selector";dM.defaultChecked=dQ}else{dM=this._createRadioElement("leaflet-base-layers_"+ag(this),dQ)}this._layerControlInputs.push(dM);dM.layerId=ag(dR.layer);cs(dM,"click",this._onInputClick,this);var dN=document.createElement("span");dN.innerHTML=" "+dR.name;var dP=document.createElement("div");dO.appendChild(dP);dP.appendChild(dM);dP.appendChild(dN);var dL=dR.overlay?this._overlaysList:this._baseLayersList;dL.appendChild(dO);this._checkDisabledLayers();return dO},_onInputClick:function(){var dL=this._layerControlInputs,dM,dQ;var dO=[],dN=[];this._handlingClick=true;for(var dP=dL.length-1;dP>=0;dP--){dM=dL[dP];dQ=this._getLayer(dM.layerId).layer;if(dM.checked){dO.push(dQ)}else{if(!dM.checked){dN.push(dQ)}}}for(dP=0;dP<dN.length;dP++){if(this._map.hasLayer(dN[dP])){this._map.removeLayer(dN[dP])}}for(dP=0;dP<dO.length;dP++){if(!this._map.hasLayer(dO[dP])){this._map.addLayer(dO[dP])}}this._handlingClick=false;this._refocusOnMap()},_checkDisabledLayers:function(){var dL=this._layerControlInputs,dM,dO,dP=this._map.getZoom();for(var dN=dL.length-1;dN>=0;dN--){dM=dL[dN];dO=this._getLayer(dM.layerId).layer;dM.disabled=(dO.options.minZoom!==undefined&&dP<dO.options.minZoom)||(dO.options.maxZoom!==undefined&&dP>dO.options.maxZoom)}},_expandIfNotCollapsed:function(){if(this._map&&!this.options.collapsed){this.expand()}return this},_expand:function(){return this.expand()},_collapse:function(){return this.collapse()}});var cv=function(dN,dM,dL){return new bk(dN,dM,dL)};var cr=dd.extend({options:{position:"topleft",zoomInText:"+",zoomInTitle:"Zoom in",zoomOutText:"&#x2212;",zoomOutTitle:"Zoom out"},onAdd:function(dN){var dO="leaflet-control-zoom",dL=bT("div",dO+" leaflet-bar"),dM=this.options;this._zoomInButton=this._createButton(dM.zoomInText,dM.zoomInTitle,dO+"-in",dL,this._zoomIn);this._zoomOutButton=this._createButton(dM.zoomOutText,dM.zoomOutTitle,dO+"-out",dL,this._zoomOut);this._updateDisabled();dN.on("zoomend zoomlevelschange",this._updateDisabled,this);return dL},onRemove:function(dL){dL.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){this._disabled=true;this._updateDisabled();return this},enable:function(){this._disabled=false;this._updateDisabled();return this},_zoomIn:function(dL){if(!this._disabled&&this._map._zoom<this._map.getMaxZoom()){this._map.zoomIn(this._map.options.zoomDelta*(dL.shiftKey?3:1))}},_zoomOut:function(dL){if(!this._disabled&&this._map._zoom>this._map.getMinZoom()){this._map.zoomOut(this._map.options.zoomDelta*(dL.shiftKey?3:1))}},_createButton:function(dM,dQ,dO,dL,dN){var dP=bT("a",dO,dL);dP.innerHTML=dM;dP.href="#";dP.title=dQ;dP.setAttribute("role","button");dP.setAttribute("aria-label",dQ);az(dP);cs(dP,"click",bP);cs(dP,"click",dN,this);cs(dP,"click",this._refocusOnMap,this);return dP},_updateDisabled:function(){var dM=this._map,dL="leaflet-disabled";cg(this._zoomInButton,dL);cg(this._zoomOutButton,dL);if(this._disabled||dM._zoom===dM.getMinZoom()){af(this._zoomOutButton,dL)}if(this._disabled||dM._zoom===dM.getMaxZoom()){af(this._zoomInButton,dL)}}});b9.mergeOptions({zoomControl:true});b9.addInitHook(function(){if(this.options.zoomControl){this.zoomControl=new cr();this.addControl(this.zoomControl)}});var cb=function(dL){return new cr(dL)};var cd=dd.extend({options:{position:"bottomleft",maxWidth:100,metric:true,imperial:true},onAdd:function(dO){var dN="leaflet-control-scale",dL=bT("div",dN),dM=this.options;this._addScales(dM,dN+"-line",dL);dO.on(dM.updateWhenIdle?"moveend":"move",this._update,this);dO.whenReady(this._update,this);return dL},onRemove:function(dL){dL.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(dM,dN,dL){if(dM.metric){this._mScale=bT("div",dN,dL)}if(dM.imperial){this._iScale=bT("div",dN,dL)}},_update:function(){var dM=this._map,dN=dM.getSize().y/2;var dL=dM.distance(dM.containerPointToLatLng([0,dN]),dM.containerPointToLatLng([this.options.maxWidth,dN]));this._updateScales(dL)},_updateScales:function(dL){if(this.options.metric&&dL){this._updateMetric(dL)}if(this.options.imperial&&dL){this._updateImperial(dL)}},_updateMetric:function(dN){var dL=this._getRoundNum(dN),dM=dL<1000?dL+" m":(dL/1000)+" km";this._updateScale(this._mScale,dM,dL/dN)},_updateImperial:function(dP){var dO=dP*3.2808399,dN,dM,dL;if(dO>5280){dN=dO/5280;dM=this._getRoundNum(dN);this._updateScale(this._iScale,dM+" mi",dM/dN)}else{dL=this._getRoundNum(dO);this._updateScale(this._iScale,dL+" ft",dL/dO)}},_updateScale:function(dN,dM,dL){dN.style.width=Math.round(this.options.maxWidth*dL)+"px";dN.innerHTML=dM},_getRoundNum:function(dM){var dL=Math.pow(10,(Math.floor(dM)+"").length-1),dN=dM/dL;dN=dN>=10?10:dN>=5?5:dN>=3?3:dN>=2?2:1;return dL*dN}});var b4=function(dL){return new cd(dL)};var dw=dd.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JS library for interactive maps">Leaflet</a>'},initialize:function(dL){b8(this,dL);this._attributions={}},onAdd:function(dM){dM.attributionControl=this;this._container=bT("div","leaflet-control-attribution");az(this._container);for(var dL in dM._layers){if(dM._layers[dL].getAttribution){this.addAttribution(dM._layers[dL].getAttribution())}}this._update();return this._container},setPrefix:function(dL){this.options.prefix=dL;this._update();return this},addAttribution:function(dL){if(!dL){return this}if(!this._attributions[dL]){this._attributions[dL]=0}this._attributions[dL]++;this._update();return this},removeAttribution:function(dL){if(!dL){return this}if(this._attributions[dL]){this._attributions[dL]--;this._update()}return this},_update:function(){if(!this._map){return}var dN=[];for(var dL in this._attributions){if(this._attributions[dL]){dN.push(dL)}}var dM=[];if(this.options.prefix){dM.push(this.options.prefix)}if(dN.length){dM.push(dN.join(", "))}this._container.innerHTML=dM.join(" | ")}});b9.mergeOptions({attributionControl:true});b9.addInitHook(function(){if(this.options.attributionControl){new dw().addTo(this)}});var bc=function(dL){return new dw(dL)};dd.Layers=bk;dd.Zoom=cr;dd.Scale=cd;dd.Attribution=dw;Z.layers=cv;Z.zoom=cb;Z.scale=b4;Z.attribution=bc;var bB=by.extend({initialize:function(dL){this._map=dL},enable:function(){if(this._enabled){return this}this._enabled=true;this.addHooks();return this},disable:function(){if(!this._enabled){return this}this._enabled=false;this.removeHooks();return this},enabled:function(){return !!this._enabled}});bB.addTo=function(dM,dL){dM.addHandler(dL,this);return this};var R={Events:cx};var c6=bt?"touchstart mousedown":"mousedown";var aU={mousedown:"mouseup",touchstart:"touchend",pointerdown:"touchend",MSPointerDown:"touchend"};var aG={mousedown:"mousemove",touchstart:"touchmove",pointerdown:"touchmove",MSPointerDown:"touchmove"};var dh=ci.extend({options:{clickTolerance:3},initialize:function(dN,dO,dM,dL){b8(this,dL);this._element=dN;this._dragStartTarget=dO||dN;this._preventOutline=dM},enable:function(){if(this._enabled){return}cs(this._dragStartTarget,c6,this._onDown,this);this._enabled=true},disable:function(){if(!this._enabled){return}if(dh._dragging===this){this.finishDrag()}dD(this._dragStartTarget,c6,this._onDown,this);this._enabled=false;this._moved=false},_onDown:function(dM){if(dM._simulated||!this._enabled){return}this._moved=false;if(ah(this._element,"leaflet-zoom-anim")){return}if(dh._dragging||dM.shiftKey||((dM.which!==1)&&(dM.button!==1)&&!dM.touches)){return}dh._dragging=this;if(this._preventOutline){aD(this._element)}aR();bL();if(this._moving){return}this.fire("down");var dN=dM.touches?dM.touches[0]:dM,dL=ch(this._element);this._startPoint=new c3(dN.clientX,dN.clientY);this._parentScale=aC(dL);cs(document,aG[dM.type],this._onMove,this);cs(document,aU[dM.type],this._onUp,this)},_onMove:function(dL){if(dL._simulated||!this._enabled){return}if(dL.touches&&dL.touches.length>1){this._moved=true;return}var dN=(dL.touches&&dL.touches.length===1?dL.touches[0]:dL),dM=new c3(dN.clientX,dN.clientY)._subtract(this._startPoint);if(!dM.x&&!dM.y){return}if(Math.abs(dM.x)+Math.abs(dM.y)<this.options.clickTolerance){return}dM.x/=this._parentScale.x;dM.y/=this._parentScale.y;dA(dL);if(!this._moved){this.fire("dragstart");this._moved=true;this._startPos=cD(this._element).subtract(dM);af(document.body,"leaflet-dragging");this._lastTarget=dL.target||dL.srcElement;if((window.SVGElementInstance)&&(this._lastTarget instanceof SVGElementInstance)){this._lastTarget=this._lastTarget.correspondingUseElement}af(this._lastTarget,"leaflet-drag-target")}this._newPos=this._startPos.add(dM);this._moving=true;cW(this._animRequest);this._lastEvent=dL;this._animRequest=dC(this._updatePosition,this,true)},_updatePosition:function(){var dL={originalEvent:this._lastEvent};this.fire("predrag",dL);cj(this._element,this._newPos);this.fire("drag",dL)},_onUp:function(dL){if(dL._simulated||!this._enabled){return}this.finishDrag()},finishDrag:function(){cg(document.body,"leaflet-dragging");if(this._lastTarget){cg(this._lastTarget,"leaflet-drag-target");this._lastTarget=null}for(var dL in aG){dD(document,aG[dL],this._onMove,this);dD(document,aU[dL],this._onUp,this)}D();aa();if(this._moved&&this._moving){cW(this._animRequest);this.fire("dragend",{distance:this._newPos.distanceTo(this._startPos)})}this._moving=false;dh._dragging=false}});function v(dN,dL){if(!dL||!dN.length){return dN.slice()}var dM=dL*dL;dN=dm(dN,dM);dN=ay(dN,dM);return dN}function dg(dM,dN,dL){return Math.sqrt(cN(dM,dN,dL,true))}function ao(dM,dN,dL){return cN(dM,dN,dL)}function ay(dP,dM){var dL=dP.length,dO=typeof Uint8Array!==undefined+""?Uint8Array:Array,dR=new dO(dL);dR[0]=dR[dL-1]=1;bY(dP,dR,dM,0,dL-1);var dN,dQ=[];for(dN=0;dN<dL;dN++){if(dR[dN]){dQ.push(dP[dN])}}return dQ}function bY(dT,dM,dL,dQ,dS){var dN=0,dR,dO,dP;for(dO=dQ+1;dO<=dS-1;dO++){dP=cN(dT[dO],dT[dQ],dT[dS],true);if(dP>dN){dR=dO;dN=dP}}if(dN>dL){dM[dR]=1;bY(dT,dM,dL,dQ,dR);bY(dT,dM,dL,dR,dS)}}function dm(dO,dM){var dQ=[dO[0]];for(var dN=1,dP=0,dL=dO.length;dN<dL;dN++){if(aF(dO[dN],dO[dP])>dM){dQ.push(dO[dN]);dP=dN}}if(dP<dL-1){dQ.push(dO[dL-1])}return dQ}var cU;function aV(dS,dR,dL,dT,dU){var dP=dT?cU:dj(dS,dL),dN=dj(dR,dL),dO,dM,dQ;cU=dN;while(true){if(!(dP|dN)){return[dS,dR]}if(dP&dN){return false}dO=dP||dN;dM=c2(dS,dR,dO,dL,dU);dQ=dj(dM,dL);if(dO===dP){dS=dM;dP=dQ}else{dR=dM;dN=dQ}}}function c2(dS,dQ,dM,dL,dT){var dV=dQ.x-dS.x,dU=dQ.y-dS.y,dN=dL.min,dP=dL.max,dR,dO;if(dM&8){dR=dS.x+dV*(dP.y-dS.y)/dU;dO=dP.y}else{if(dM&4){dR=dS.x+dV*(dN.y-dS.y)/dU;dO=dN.y}else{if(dM&2){dR=dP.x;dO=dS.y+dU*(dP.x-dS.x)/dV}else{if(dM&1){dR=dN.x;dO=dS.y+dU*(dN.x-dS.x)/dV}}}}return new c3(dR,dO,dT)}function dj(dN,dM){var dL=0;if(dN.x<dM.min.x){dL|=1}else{if(dN.x>dM.max.x){dL|=2}}if(dN.y<dM.min.y){dL|=4}else{if(dN.y>dM.max.y){dL|=8}}return dL}function aF(dO,dN){var dM=dN.x-dO.x,dL=dN.y-dO.y;return dM*dM+dL*dL}function cN(dM,dR,dQ,dN){var dP=dR.x,dO=dR.y,dU=dQ.x-dP,dT=dQ.y-dO,dL=dU*dU+dT*dT,dS;if(dL>0){dS=((dM.x-dP)*dU+(dM.y-dO)*dT)/dL;if(dS>1){dP=dQ.x;dO=dQ.y}else{if(dS>0){dP+=dU*dS;dO+=dT*dS}}}dU=dM.x-dP;dT=dM.y-dO;return dN?dU*dU+dT*dT:new c3(dP,dO)}function ca(dL){return !bh(dL[0])||(typeof dL[0][0]!=="object"&&typeof dL[0][0]!=="undefined")}function X(dL){console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead.");return ca(dL)}var dz=(Object.freeze||Object)({simplify:v,pointToSegmentDistance:dg,closestPointOnSegment:ao,clipSegment:aV,_getEdgeIntersection:c2,_getBitCode:dj,_sqClosestPointOnSegment:cN,isFlat:ca,_flat:X});function I(dW,dL,dX){var dT,dQ=[1,4,2,8],dR,dP,dO,dV,dU,dS,dN,dM;for(dR=0,dS=dW.length;dR<dS;dR++){dW[dR]._code=dj(dW[dR],dL)}for(dO=0;dO<4;dO++){dN=dQ[dO];dT=[];for(dR=0,dS=dW.length,dP=dS-1;dR<dS;dP=dR++){dV=dW[dR];dU=dW[dP];if(!(dV._code&dN)){if(dU._code&dN){dM=c2(dU,dV,dN,dL,dX);dM._code=dj(dM,dL);dT.push(dM)}dT.push(dV)}else{if(!(dU._code&dN)){dM=c2(dU,dV,dN,dL,dX);dM._code=dj(dM,dL);dT.push(dM)}}}dW=dT}return dW}var c4=(Object.freeze||Object)({clipPolygon:I});var at={project:function(dL){return new c3(dL.lng,dL.lat)},unproject:function(dL){return new bl(dL.y,dL.x)},bounds:new cq([-180,-90],[180,90])};var k={R:6378137,R_MINOR:6356752.314245179,bounds:new cq([-20037508.34279,-15496570.73972],[20037508.34279,18764656.23138]),project:function(dS){var dQ=Math.PI/180,dO=this.R,dR=dS.lat*dQ,dM=this.R_MINOR/dO,dP=Math.sqrt(1-dM*dM),dL=dP*Math.sin(dR);var dN=Math.tan(Math.PI/4-dR/2)/Math.pow((1-dL)/(1+dL),dP/2);dR=-dO*Math.log(Math.max(dN,1e-10));return new c3(dS.lng*dQ*dO,dR)},unproject:function(dU){var dS=180/Math.PI,dL=this.R,dN=this.R_MINOR/dL,dQ=Math.sqrt(1-dN*dN),dT=Math.exp(-dU.y/dL),dR=Math.PI/2-2*Math.atan(dT);for(var dO=0,dP=0.1,dM;dO<15&&Math.abs(dP)>1e-7;dO++){dM=dQ*Math.sin(dR);dM=Math.pow((1-dM)/(1+dM),dQ/2);dP=Math.PI/2-2*Math.atan(dT*dM)-dR;dR+=dP}return new bl(dR*dS,dU.x*dS/dL)}};var c0=(Object.freeze||Object)({LonLat:at,Mercator:k,SphericalMercator:ds});var b7=ct({},c9,{code:"EPSG:3395",projection:k,transformation:(function(){var dL=0.5/(Math.PI*k.R);return aP(dL,0.5,-dL,0.5)}())});var a8=ct({},c9,{code:"EPSG:4326",projection:at,transformation:aP(1/180,1,-1/180,0.5)});var aO=ct({},i,{projection:at,transformation:aP(1,0,-1,0),scale:function(dL){return Math.pow(2,dL)},zoom:function(dL){return Math.log(dL)/Math.LN2},distance:function(dL,dO){var dN=dO.lng-dL.lng,dM=dO.lat-dL.lat;return Math.sqrt(dN*dN+dM*dM)},infinite:true});i.Earth=c9;i.EPSG3395=b7;i.EPSG3857=a6;i.EPSG900913=cF;i.EPSG4326=a8;i.Simple=aO;var bx=ci.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:true},addTo:function(dL){dL.addLayer(this);return this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(dL){if(dL){dL.removeLayer(this)}return this},getPane:function(dL){return this._map.getPane(dL?(this.options[dL]||dL):this.options.pane)},addInteractiveTarget:function(dL){this._map._targets[ag(dL)]=this;return this},removeInteractiveTarget:function(dL){delete this._map._targets[ag(dL)];return this},getAttribution:function(){return this.options.attribution},_layerAdd:function(dN){var dM=dN.target;if(!dM.hasLayer(this)){return}this._map=dM;this._zoomAnimated=dM._zoomAnimated;if(this.getEvents){var dL=this.getEvents();dM.on(dL,this);this.once("remove",function(){dM.off(dL,this)},this)}this.onAdd(dM);if(this.getAttribution&&dM.attributionControl){dM.attributionControl.addAttribution(this.getAttribution())}this.fire("add");dM.fire("layeradd",{layer:this})}});b9.include({addLayer:function(dL){if(!dL._layerAdd){throw new Error("The provided object is not a Layer.")}var dM=ag(dL);if(this._layers[dM]){return this}this._layers[dM]=dL;dL._mapToAdd=this;if(dL.beforeAdd){dL.beforeAdd(this)}this.whenReady(dL._layerAdd,dL);return this},removeLayer:function(dL){var dM=ag(dL);if(!this._layers[dM]){return this}if(this._loaded){dL.onRemove(this)}if(dL.getAttribution&&this.attributionControl){this.attributionControl.removeAttribution(dL.getAttribution())}delete this._layers[dM];if(this._loaded){this.fire("layerremove",{layer:dL});dL.fire("remove")}dL._map=dL._mapToAdd=null;return this},hasLayer:function(dL){return !!dL&&(ag(dL) in this._layers)},eachLayer:function(dN,dM){for(var dL in this._layers){dN.call(dM,this._layers[dL])}return this},_addLayers:function(dN){dN=dN?(bh(dN)?dN:[dN]):[];for(var dM=0,dL=dN.length;dM<dL;dM++){this.addLayer(dN[dM])}},_addZoomLimit:function(dL){if(isNaN(dL.options.maxZoom)||!isNaN(dL.options.minZoom)){this._zoomBoundLayers[ag(dL)]=dL;this._updateZoomLevels()}},_removeZoomLimit:function(dL){var dM=ag(dL);if(this._zoomBoundLayers[dM]){delete this._zoomBoundLayers[dM];this._updateZoomLevels()}},_updateZoomLevels:function(){var dP=Infinity,dL=-Infinity,dO=this._getZoomSpan();for(var dN in this._zoomBoundLayers){var dM=this._zoomBoundLayers[dN].options;dP=dM.minZoom===undefined?dP:Math.min(dP,dM.minZoom);dL=dM.maxZoom===undefined?dL:Math.max(dL,dM.maxZoom)}this._layersMaxZoom=dL===-Infinity?undefined:dL;this._layersMinZoom=dP===Infinity?undefined:dP;if(dO!==this._getZoomSpan()){this.fire("zoomlevelschange")}if(this.options.maxZoom===undefined&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom){this.setZoom(this._layersMaxZoom)}if(this.options.minZoom===undefined&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom){this.setZoom(this._layersMinZoom)}}});var y=bx.extend({initialize:function(dO,dM){b8(this,dM);this._layers={};var dN,dL;if(dO){for(dN=0,dL=dO.length;dN<dL;dN++){this.addLayer(dO[dN])}}},addLayer:function(dL){var dM=this.getLayerId(dL);this._layers[dM]=dL;if(this._map){this._map.addLayer(dL)}return this},removeLayer:function(dL){var dM=dL in this._layers?dL:this.getLayerId(dL);if(this._map&&this._layers[dM]){this._map.removeLayer(this._layers[dM])}delete this._layers[dM];return this},hasLayer:function(dL){return !!dL&&(dL in this._layers||this.getLayerId(dL) in this._layers)},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(dL){var dM=Array.prototype.slice.call(arguments,1),dO,dN;for(dO in this._layers){dN=this._layers[dO];if(dN[dL]){dN[dL].apply(dN,dM)}}return this},onAdd:function(dL){this.eachLayer(dL.addLayer,dL)},onRemove:function(dL){this.eachLayer(dL.removeLayer,dL)},eachLayer:function(dN,dM){for(var dL in this._layers){dN.call(dM,this._layers[dL])}return this},getLayer:function(dL){return this._layers[dL]},getLayers:function(){var dL=[];this.eachLayer(dL.push,dL);return dL},setZIndex:function(dL){return this.invoke("setZIndex",dL)},getLayerId:function(dL){return ag(dL)}});var ax=function(dM,dL){return new y(dM,dL)};var A=y.extend({addLayer:function(dL){if(this.hasLayer(dL)){return this}dL.addEventParent(this);y.prototype.addLayer.call(this,dL);return this.fire("layeradd",{layer:dL})},removeLayer:function(dL){if(!this.hasLayer(dL)){return this}if(dL in this._layers){dL=this._layers[dL]}dL.removeEventParent(this);y.prototype.removeLayer.call(this,dL);return this.fire("layerremove",{layer:dL})},setStyle:function(dL){return this.invoke("setStyle",dL)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var dM=new aZ();for(var dN in this._layers){var dL=this._layers[dN];dM.extend(dL.getBounds?dL.getBounds():dL.getLatLng())}return dM}});var cJ=function(dL){return new A(dL)};var N=by.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0]},initialize:function(dL){b8(this,dL)},createIcon:function(dL){return this._createIcon("icon",dL)},createShadow:function(dL){return this._createIcon("shadow",dL)},_createIcon:function(dM,dN){var dO=this._getIconUrl(dM);if(!dO){if(dM==="icon"){throw new Error("iconUrl not set in Icon options (see the docs).")}return null}var dL=this._createImg(dO,dN&&dN.tagName==="IMG"?dN:null);this._setIconStyles(dL,dM);return dL},_setIconStyles:function(dM,dP){var dO=this.options;var dL=dO[dP+"Size"];if(typeof dL==="number"){dL=[dL,dL]}var dQ=cX(dL),dN=cX(dP==="shadow"&&dO.shadowAnchor||dO.iconAnchor||dQ&&dQ.divideBy(2,true));dM.className="leaflet-marker-"+dP+" "+(dO.className||"");if(dN){dM.style.marginLeft=(-dN.x)+"px";dM.style.marginTop=(-dN.y)+"px"}if(dQ){dM.style.width=dQ.x+"px";dM.style.height=dQ.y+"px"}},_createImg:function(dM,dL){dL=dL||document.createElement("img");dL.src=dM;return dL},_getIconUrl:function(dL){return ba&&this.options[dL+"RetinaUrl"]||this.options[dL+"Url"]}});function r(dL){return new N(dL)}var c5=N.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(dL){if(!c5.imagePath){c5.imagePath=this._detectIconPath()}return(this.options.imagePath||c5.imagePath)+N.prototype._getIconUrl.call(this,dL)},_detectIconPath:function(){var dL=bT("div","leaflet-default-icon-path",document.body);var dM=cB(dL,"background-image")||cB(dL,"backgroundImage");document.body.removeChild(dL);if(dM===null||dM.indexOf("url")!==0){dM=""}else{dM=dM.replace(/^url\(["']?/,"").replace(/marker-icon\.png["']?\)$/,"")}return dM}});var bM=bB.extend({initialize:function(dL){this._marker=dL},addHooks:function(){var dL=this._marker._icon;if(!this._draggable){this._draggable=new dh(dL,dL,true)}this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable();af(dL,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable();if(this._marker._icon){cg(this._marker._icon,"leaflet-marker-draggable")}},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(dQ){var dP=this._marker,dM=dP._map,dO=this._marker.options.autoPanSpeed,dT=this._marker.options.autoPanPadding,dR=cD(dP._icon),dL=dM.getPixelBounds(),dU=dM.getPixelOrigin();var dS=E(dL.min._subtract(dU).add(dT),dL.max._subtract(dU).subtract(dT));if(!dS.contains(dR)){var dN=cX((Math.max(dS.max.x,dR.x)-dS.max.x)/(dL.max.x-dS.max.x)-(Math.min(dS.min.x,dR.x)-dS.min.x)/(dL.min.x-dS.min.x),(Math.max(dS.max.y,dR.y)-dS.max.y)/(dL.max.y-dS.max.y)-(Math.min(dS.min.y,dR.y)-dS.min.y)/(dL.min.y-dS.min.y)).multiplyBy(dO);dM.panBy(dN,{animate:false});this._draggable._newPos._add(dN);this._draggable._startPos._add(dN);cj(dP._icon,this._draggable._newPos);this._onDrag(dQ);this._panRequest=dC(this._adjustPan.bind(this,dQ))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng();this._marker.closePopup().fire("movestart").fire("dragstart")},_onPreDrag:function(dL){if(this._marker.options.autoPan){cW(this._panRequest);this._panRequest=dC(this._adjustPan.bind(this,dL))}},_onDrag:function(dN){var dL=this._marker,dP=dL._shadow,dM=cD(dL._icon),dO=dL._map.layerPointToLatLng(dM);if(dP){cj(dP,dM)}dL._latlng=dO;dN.latlng=dO;dN.oldLatLng=this._oldLatLng;dL.fire("move",dN).fire("drag",dN)},_onDragEnd:function(dL){cW(this._panRequest);delete this._oldLatLng;this._marker.fire("moveend").fire("dragend",dL)}});var ai=bx.extend({options:{icon:new c5(),interactive:true,keyboard:true,title:"",alt:"",zIndexOffset:0,opacity:1,riseOnHover:false,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:false,draggable:false,autoPan:false,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(dM,dL){b8(this,dL);this._latlng=dc(dM)},onAdd:function(dL){this._zoomAnimated=this._zoomAnimated&&dL.options.markerZoomAnimation;if(this._zoomAnimated){dL.on("zoomanim",this._animateZoom,this)}this._initIcon();this.update()},onRemove:function(dL){if(this.dragging&&this.dragging.enabled()){this.options.draggable=true;this.dragging.removeHooks()}delete this.dragging;if(this._zoomAnimated){dL.off("zoomanim",this._animateZoom,this)}this._removeIcon();this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(dM){var dL=this._latlng;this._latlng=dc(dM);this.update();return this.fire("move",{oldLatLng:dL,latlng:this._latlng})},setZIndexOffset:function(dL){this.options.zIndexOffset=dL;return this.update()},getIcon:function(){return this.options.icon},setIcon:function(dL){this.options.icon=dL;if(this._map){this._initIcon();this.update()}if(this._popup){this.bindPopup(this._popup,this._popup.options)}return this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var dL=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(dL)}return this},_initIcon:function(){var dM=this.options,dO="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");var dN=dM.icon.createIcon(this._icon),dP=false;if(dN!==this._icon){if(this._icon){this._removeIcon()}dP=true;if(dM.title){dN.title=dM.title}if(dN.tagName==="IMG"){dN.alt=dM.alt||""}}af(dN,dO);if(dM.keyboard){dN.tabIndex="0"}this._icon=dN;if(dM.riseOnHover){this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex})}var dL=dM.icon.createShadow(this._shadow),dQ=false;if(dL!==this._shadow){this._removeShadow();dQ=true}if(dL){af(dL,dO);dL.alt=""}this._shadow=dL;if(dM.opacity<1){this._updateOpacity()}if(dP){this.getPane().appendChild(this._icon)}this._initInteraction();if(dL&&dQ){this.getPane(dM.shadowPane).appendChild(this._shadow)}},_removeIcon:function(){if(this.options.riseOnHover){this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex})}ad(this._icon);this.removeInteractiveTarget(this._icon);this._icon=null},_removeShadow:function(){if(this._shadow){ad(this._shadow)}this._shadow=null},_setPos:function(dL){cj(this._icon,dL);if(this._shadow){cj(this._shadow,dL)}this._zIndex=dL.y+this.options.zIndexOffset;this._resetZIndex()},_updateZIndex:function(dL){this._icon.style.zIndex=this._zIndex+dL},_animateZoom:function(dL){var dM=this._map._latLngToNewLayerPoint(this._latlng,dL.zoom,dL.center).round();this._setPos(dM)},_initInteraction:function(){if(!this.options.interactive){return}af(this._icon,"leaflet-interactive");this.addInteractiveTarget(this._icon);if(bM){var dL=this.options.draggable;if(this.dragging){dL=this.dragging.enabled();this.dragging.disable()}this.dragging=new bM(this);if(dL){this.dragging.enable()}}},setOpacity:function(dL){this.options.opacity=dL;if(this._map){this._updateOpacity()}return this},_updateOpacity:function(){var dL=this.options.opacity;if(this._icon){av(this._icon,dL)}if(this._shadow){av(this._shadow,dL)}},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function br(dM,dL){return new ai(dM,dL)}var aB=bx.extend({options:{stroke:true,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:false,fillColor:null,fillOpacity:0.2,fillRule:"evenodd",interactive:true,bubblingMouseEvents:true},beforeAdd:function(dL){this._renderer=dL.getRenderer(this)},onAdd:function(){this._renderer._initPath(this);this._reset();this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){if(this._map){this._renderer._updatePath(this)}return this},setStyle:function(dL){b8(this,dL);if(this._renderer){this._renderer._updateStyle(this);if(this.options.stroke&&dL.hasOwnProperty("weight")){this._updateBounds()}}return this},bringToFront:function(){if(this._renderer){this._renderer._bringToFront(this)}return this},bringToBack:function(){if(this._renderer){this._renderer._bringToBack(this)}return this},getElement:function(){return this._path},_reset:function(){this._project();this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+this._renderer.options.tolerance}});var cI=aB.extend({options:{fill:true,radius:10},initialize:function(dM,dL){b8(this,dL);this._latlng=dc(dM);this._radius=this.options.radius},setLatLng:function(dL){this._latlng=dc(dL);this.redraw();return this.fire("move",{latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(dL){this.options.radius=this._radius=dL;return this.redraw()},getRadius:function(){return this._radius},setStyle:function(dM){var dL=dM&&dM.radius||this._radius;aB.prototype.setStyle.call(this,dM);this.setRadius(dL);return this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng);this._updateBounds()},_updateBounds:function(){var dN=this._radius,dM=this._radiusY||dN,dL=this._clickTolerance(),dO=[dN+dL,dM+dL];this._pxBounds=new cq(this._point.subtract(dO),this._point.add(dO))},_update:function(){if(this._map){this._updatePath()}},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(dL){return dL.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function bi(dM,dL){return new cI(dM,dL)}var a=cI.extend({initialize:function(dN,dM,dL){if(typeof dM==="number"){dM=ct({},dL,{radius:dM})}b8(this,dM);this._latlng=dc(dN);if(isNaN(this.options.radius)){throw new Error("Circle radius cannot be NaN")}this._mRadius=this.options.radius},setRadius:function(dL){this._mRadius=dL;return this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var dL=[this._radius,this._radiusY||this._radius];return new aZ(this._map.layerPointToLatLng(this._point.subtract(dL)),this._map.layerPointToLatLng(this._point.add(dL)))},setStyle:aB.prototype.setStyle,_project:function(){var dT=this._latlng.lng,dR=this._latlng.lat,dM=this._map,dV=dM.options.crs;if(dV.distance===c9.distance){var dQ=Math.PI/180,dW=(this._mRadius/c9.R)/dQ,dS=dM.project([dR+dW,dT]),dL=dM.project([dR-dW,dT]),dN=dS.add(dL).divideBy(2),dP=dM.unproject(dN).lat,dO=Math.acos((Math.cos(dW*dQ)-Math.sin(dR*dQ)*Math.sin(dP*dQ))/(Math.cos(dR*dQ)*Math.cos(dP*dQ)))/dQ;if(isNaN(dO)||dO===0){dO=dW/Math.cos(Math.PI/180*dR)}this._point=dN.subtract(dM.getPixelOrigin());this._radius=isNaN(dO)?0:dN.x-dM.project([dP,dT-dO]).x;this._radiusY=dN.y-dS.y}else{var dU=dV.unproject(dV.project(this._latlng).subtract([this._mRadius,0]));this._point=dM.latLngToLayerPoint(this._latlng);this._radius=this._point.x-dM.latLngToLayerPoint(dU).x}this._updateBounds()}});function ab(dN,dM,dL){return new a(dN,dM,dL)}var h=aB.extend({options:{smoothFactor:1,noClip:false},initialize:function(dL,dM){b8(this,dM);this._setLatLngs(dL)},getLatLngs:function(){return this._latlngs},setLatLngs:function(dL){this._setLatLngs(dL);return this.redraw()},isEmpty:function(){return !this._latlngs.length},closestLayerPoint:function(dL){var dT=Infinity,dR=null,dM=cN,dV,dU;for(var dN=0,dW=this._parts.length;dN<dW;dN++){var dS=this._parts[dN];for(var dO=1,dQ=dS.length;dO<dQ;dO++){dV=dS[dO-1];dU=dS[dO];var dP=dM(dL,dV,dU,true);if(dP<dT){dT=dP;dR=dM(dL,dV,dU)}}}if(dR){dR.distance=Math.sqrt(dT)}return dR},getCenter:function(){if(!this._map){throw new Error("Must add layer to map before using getCenter()")}var dN,dL,dM,dQ,dT,dR,dP,dS=this._rings[0],dO=dS.length;if(!dO){return null}for(dN=0,dL=0;dN<dO-1;dN++){dL+=dS[dN].distanceTo(dS[dN+1])/2}if(dL===0){return this._map.layerPointToLatLng(dS[0])}for(dN=0,dQ=0;dN<dO-1;dN++){dT=dS[dN];dR=dS[dN+1];dM=dT.distanceTo(dR);dQ+=dM;if(dQ>dL){dP=(dQ-dL)/dM;return this._map.layerPointToLatLng([dR.x-dP*(dR.x-dT.x),dR.y-dP*(dR.y-dT.y)])}}},getBounds:function(){return this._bounds},addLatLng:function(dM,dL){dL=dL||this._defaultShape();dM=dc(dM);dL.push(dM);this._bounds.extend(dM);return this.redraw()},_setLatLngs:function(dL){this._bounds=new aZ();this._latlngs=this._convertLatLngs(dL)},_defaultShape:function(){return ca(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(dN){var dM=[],dP=ca(dN);for(var dO=0,dL=dN.length;dO<dL;dO++){if(dP){dM[dO]=dc(dN[dO]);this._bounds.extend(dM[dO])}else{dM[dO]=this._convertLatLngs(dN[dO])}}return dM},_project:function(){var dL=new cq();this._rings=[];this._projectLatlngs(this._latlngs,this._rings,dL);if(this._bounds.isValid()&&dL.isValid()){this._rawPxBounds=dL;this._updateBounds()}},_updateBounds:function(){var dL=this._clickTolerance(),dM=new c3(dL,dL);this._pxBounds=new cq([this._rawPxBounds.min.subtract(dM),this._rawPxBounds.max.add(dM)])},_projectLatlngs:function(dN,dM,dQ){var dR=dN[0] instanceof bl,dL=dN.length,dP,dO;if(dR){dO=[];for(dP=0;dP<dL;dP++){dO[dP]=this._map.latLngToLayerPoint(dN[dP]);dQ.extend(dO[dP])}dM.push(dO)}else{for(dP=0;dP<dL;dP++){this._projectLatlngs(dN[dP],dM,dQ)}}},_clipPoints:function(){var dL=this._renderer._bounds;this._parts=[];if(!this._pxBounds||!this._pxBounds.intersects(dL)){return}if(this.options.noClip){this._parts=this._rings;return}var dO=this._parts,dQ,dP,dM,dS,dN,dR,dT;for(dQ=0,dM=0,dS=this._rings.length;dQ<dS;dQ++){dT=this._rings[dQ];for(dP=0,dN=dT.length;dP<dN-1;dP++){dR=aV(dT[dP],dT[dP+1],dL,dP,true);if(!dR){continue}dO[dM]=dO[dM]||[];dO[dM].push(dR[0]);if((dR[1]!==dT[dP+1])||(dP===dN-2)){dO[dM].push(dR[1]);dM++}}}},_simplifyPoints:function(){var dO=this._parts,dM=this.options.smoothFactor;for(var dN=0,dL=dO.length;dN<dL;dN++){dO[dN]=v(dO[dN],dM)}},_update:function(){if(!this._map){return}this._clipPoints();this._simplifyPoints();this._updatePath()},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(dL,dR){var dQ,dP,dN,dS,dO,dM,dT=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(dL)){return false}for(dQ=0,dS=this._parts.length;dQ<dS;dQ++){dM=this._parts[dQ];for(dP=0,dO=dM.length,dN=dO-1;dP<dO;dN=dP++){if(!dR&&(dP===0)){continue}if(dg(dL,dM[dN],dM[dP])<=dT){return true}}}return false}});function cc(dL,dM){return new h(dL,dM)}h._flat=X;var c8=h.extend({options:{fill:true},isEmpty:function(){return !this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map){throw new Error("Must add layer to map before using getCenter()")}var dO,dN,dV,dU,dQ,dM,dS,dR,dL,dT=this._rings[0],dP=dT.length;if(!dP){return null}dM=dS=dR=0;for(dO=0,dN=dP-1;dO<dP;dN=dO++){dV=dT[dO];dU=dT[dN];dQ=dV.y*dU.x-dU.y*dV.x;dS+=(dV.x+dU.x)*dQ;dR+=(dV.y+dU.y)*dQ;dM+=dQ*3}if(dM===0){dL=dT[0]}else{dL=[dS/dM,dR/dM]}return this._map.layerPointToLatLng(dL)},_convertLatLngs:function(dN){var dM=h.prototype._convertLatLngs.call(this,dN),dL=dM.length;if(dL>=2&&dM[0] instanceof bl&&dM[0].equals(dM[dL-1])){dM.pop()}return dM},_setLatLngs:function(dL){h.prototype._setLatLngs.call(this,dL);if(ca(this._latlngs)){this._latlngs=[this._latlngs]}},_defaultShape:function(){return ca(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var dP=this._renderer._bounds,dN=this.options.weight,dQ=new c3(dN,dN);dP=new cq(dP.min.subtract(dQ),dP.max.add(dQ));this._parts=[];if(!this._pxBounds||!this._pxBounds.intersects(dP)){return}if(this.options.noClip){this._parts=this._rings;return}for(var dO=0,dM=this._rings.length,dL;dO<dM;dO++){dL=I(this._rings[dO],dP,true);if(dL.length){this._parts.push(dL)}}},_updatePath:function(){this._renderer._updatePoly(this,true)},_containsPoint:function(dL){var dN=false,dM,dU,dT,dR,dQ,dP,dS,dO;if(!this._pxBounds||!this._pxBounds.contains(dL)){return false}for(dR=0,dS=this._parts.length;dR<dS;dR++){dM=this._parts[dR];for(dQ=0,dO=dM.length,dP=dO-1;dQ<dO;dP=dQ++){dU=dM[dQ];dT=dM[dP];if(((dU.y>dL.y)!==(dT.y>dL.y))&&(dL.x<(dT.x-dU.x)*(dL.y-dU.y)/(dT.y-dU.y)+dU.x)){dN=!dN}}}return dN||h.prototype._containsPoint.call(this,dL,true)}});function Q(dL,dM){return new c8(dL,dM)}var aH=A.extend({initialize:function(dM,dL){b8(this,dL);this._layers={};if(dM){this.addData(dM)}},addData:function(dN){var dR=bh(dN)?dN:dN.features,dQ,dL,dP;if(dR){for(dQ=0,dL=dR.length;dQ<dL;dQ++){dP=dR[dQ];if(dP.geometries||dP.geometry||dP.features||dP.coordinates){this.addData(dP)}}return this}var dM=this.options;if(dM.filter&&!dM.filter(dN)){return this}var dO=ac(dN,dM);if(!dO){return this}dO.feature=aI(dN);dO.defaultOptions=dO.options;this.resetStyle(dO);if(dM.onEachFeature){dM.onEachFeature(dN,dO)}return this.addLayer(dO)},resetStyle:function(dL){dL.options=ct({},dL.defaultOptions);this._setLayerStyle(dL,this.options.style);return this},setStyle:function(dL){return this.eachLayer(function(dM){this._setLayerStyle(dM,dL)},this)},_setLayerStyle:function(dL,dM){if(dL.setStyle){if(typeof dM==="function"){dM=dM(dL.feature)}dL.setStyle(dM)}}});function ac(dM,dW){var dU=dM.type==="Feature"?dM.geometry:dM,dV=dU?dU.coordinates:null,dR=[],dN=dW&&dW.pointToLayer,dO=dW&&dW.coordsToLatLng||dv,dP,dL,dQ,dT;if(!dV&&!dU){return null}switch(dU.type){case"Point":dP=dO(dV);return dN?dN(dM,dP):new ai(dP);case"MultiPoint":for(dQ=0,dT=dV.length;dQ<dT;dQ++){dP=dO(dV[dQ]);dR.push(dN?dN(dM,dP):new ai(dP))}return new A(dR);case"LineString":case"MultiLineString":dL=a7(dV,dU.type==="LineString"?0:1,dO);return new h(dL,dW);case"Polygon":case"MultiPolygon":dL=a7(dV,dU.type==="Polygon"?1:2,dO);return new c8(dL,dW);case"GeometryCollection":for(dQ=0,dT=dU.geometries.length;dQ<dT;dQ++){var dS=ac({geometry:dU.geometries[dQ],type:"Feature",properties:dM.properties},dW);if(dS){dR.push(dS)}}return new A(dR);default:throw new Error("Invalid GeoJSON object.")}}function dv(dL){return new bl(dL[1],dL[0],dL[2])}function a7(dP,dO,dR){var dM=[];for(var dN=0,dL=dP.length,dQ;dN<dL;dN++){dQ=dO?a7(dP[dN],dO-1,dR):(dR||dv)(dP[dN]);dM.push(dQ)}return dM}function cE(dM,dL){dL=typeof dL==="number"?dL:6;return dM.alt!==undefined?[bq(dM.lng,dL),bq(dM.lat,dL),bq(dM.alt,dL)]:[bq(dM.lng,dL),bq(dM.lat,dL)]}function n(dM,dR,dO,dN){var dQ=[];for(var dP=0,dL=dM.length;dP<dL;dP++){dQ.push(dR?n(dM[dP],dR-1,dO,dN):cE(dM[dP],dN))}if(!dR&&dO){dQ.push(dQ[0])}return dQ}function S(dM,dL){return dM.feature?ct({},dM.feature,{geometry:dL}):aI(dL)}function aI(dL){if(dL.type==="Feature"||dL.type==="FeatureCollection"){return dL}return{type:"Feature",properties:{},geometry:dL}}var dG={toGeoJSON:function(dL){return S(this,{type:"Point",coordinates:cE(this.getLatLng(),dL)})}};ai.include(dG);a.include(dG);cI.include(dG);h.include({toGeoJSON:function(dL){var dN=!ca(this._latlngs);var dM=n(this._latlngs,dN?1:0,false,dL);return S(this,{type:(dN?"Multi":"")+"LineString",coordinates:dM})}});c8.include({toGeoJSON:function(dM){var dL=!ca(this._latlngs),dO=dL&&!ca(this._latlngs[0]);var dN=n(this._latlngs,dO?2:dL?1:0,true,dM);if(!dL){dN=[dN]}return S(this,{type:(dO?"Multi":"")+"Polygon",coordinates:dN})}});y.include({toMultiPoint:function(dL){var dM=[];this.eachLayer(function(dN){dM.push(dN.toGeoJSON(dL).geometry.coordinates)});return S(this,{type:"MultiPoint",coordinates:dM})},toGeoJSON:function(dM){var dN=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(dN==="MultiPoint"){return this.toMultiPoint(dM)}var dL=dN==="GeometryCollection",dO=[];this.eachLayer(function(dR){if(dR.toGeoJSON){var dQ=dR.toGeoJSON(dM);if(dL){dO.push(dQ.geometry)}else{var dP=aI(dQ);if(dP.type==="FeatureCollection"){dO.push.apply(dO,dP.features)}else{dO.push(dP)}}}});if(dL){return S(this,{geometries:dO,type:"GeometryCollection"})}return{type:"FeatureCollection",features:dO}}});function b0(dM,dL){return new aH(dM,dL)}var cf=b0;var cl=bx.extend({options:{opacity:1,alt:"",interactive:false,crossOrigin:false,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(dM,dN,dL){this._url=dM;this._bounds=e(dN);b8(this,dL)},onAdd:function(){if(!this._image){this._initImage();if(this.options.opacity<1){this._updateOpacity()}}if(this.options.interactive){af(this._image,"leaflet-interactive");this.addInteractiveTarget(this._image)}this.getPane().appendChild(this._image);this._reset()},onRemove:function(){ad(this._image);if(this.options.interactive){this.removeInteractiveTarget(this._image)}},setOpacity:function(dL){this.options.opacity=dL;if(this._image){this._updateOpacity()}return this},setStyle:function(dL){if(dL.opacity){this.setOpacity(dL.opacity)}return this},bringToFront:function(){if(this._map){an(this._image)}return this},bringToBack:function(){if(this._map){ak(this._image)}return this},setUrl:function(dL){this._url=dL;if(this._image){this._image.src=dL}return this},setBounds:function(dL){this._bounds=e(dL);if(this._map){this._reset()}return this},getEvents:function(){var dL={zoom:this._reset,viewreset:this._reset};if(this._zoomAnimated){dL.zoomanim=this._animateZoom}return dL},setZIndex:function(dL){this.options.zIndex=dL;this._updateZIndex();return this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var dM=this._url.tagName==="IMG";var dL=this._image=dM?this._url:bT("img");af(dL,"leaflet-image-layer");if(this._zoomAnimated){af(dL,"leaflet-zoom-animated")}if(this.options.className){af(dL,this.options.className)}dL.onselectstart=cM;dL.onmousemove=cM;dL.onload=bW(this.fire,this,"load");dL.onerror=bW(this._overlayOnError,this,"error");if(this.options.crossOrigin||this.options.crossOrigin===""){dL.crossOrigin=this.options.crossOrigin===true?"":this.options.crossOrigin}if(this.options.zIndex){this._updateZIndex()}if(dM){this._url=dL.src;return}dL.src=this._url;dL.alt=this.options.alt},_animateZoom:function(dL){var dN=this._map.getZoomScale(dL.zoom),dM=this._map._latLngBoundsToNewLayerBounds(this._bounds,dL.zoom,dL.center).min;a5(this._image,dM,dN)},_reset:function(){var dN=this._image,dM=new cq(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),dL=dM.getSize();cj(dN,dM.min);dN.style.width=dL.x+"px";dN.style.height=dL.y+"px"},_updateOpacity:function(){av(this._image,this.options.opacity)},_updateZIndex:function(){if(this._image&&this.options.zIndex!==undefined&&this.options.zIndex!==null){this._image.style.zIndex=this.options.zIndex}},_overlayOnError:function(){this.fire("error");var dL=this.options.errorOverlayUrl;if(dL&&this._url!==dL){this._url=dL;this._image.src=dL}}});var aY=function(dM,dN,dL){return new cl(dM,dN,dL)};var V=cl.extend({options:{autoplay:true,loop:true,keepAspectRatio:true},_initImage:function(){var dR=this._url.tagName==="VIDEO";var dL=this._image=dR?this._url:bT("video");af(dL,"leaflet-image-layer");if(this._zoomAnimated){af(dL,"leaflet-zoom-animated")}dL.onselectstart=cM;dL.onmousemove=cM;dL.onloadeddata=bW(this.fire,this,"load");if(dR){var dM=dL.getElementsByTagName("source");var dO=[];for(var dN=0;dN<dM.length;dN++){dO.push(dM[dN].src)}this._url=(dM.length>0)?dO:[dL.src];return}if(!bh(this._url)){this._url=[this._url]}if(!this.options.keepAspectRatio&&dL.style.hasOwnProperty("objectFit")){dL.style.objectFit="fill"}dL.autoplay=!!this.options.autoplay;dL.loop=!!this.options.loop;for(var dP=0;dP<this._url.length;dP++){var dQ=bT("source");dQ.src=this._url[dP];dL.appendChild(dQ)}}});function da(dN,dM,dL){return new V(dN,dM,dL)}var aM=cl.extend({_initImage:function(){var dL=this._image=this._url;af(dL,"leaflet-image-layer");if(this._zoomAnimated){af(dL,"leaflet-zoom-animated")}dL.onselectstart=cM;dL.onmousemove=cM}});function bv(dM,dN,dL){return new aM(dM,dN,dL)}var M=bx.extend({options:{offset:[0,7],className:"",pane:"popupPane"},initialize:function(dL,dM){b8(this,dL);this._source=dM},onAdd:function(dL){this._zoomAnimated=dL._zoomAnimated;if(!this._container){this._initLayout()}if(dL._fadeAnimated){av(this._container,0)}clearTimeout(this._removeTimeout);this.getPane().appendChild(this._container);this.update();if(dL._fadeAnimated){av(this._container,1)}this.bringToFront()},onRemove:function(dL){if(dL._fadeAnimated){av(this._container,0);this._removeTimeout=setTimeout(bW(ad,undefined,this._container),200)}else{ad(this._container)}},getLatLng:function(){return this._latlng},setLatLng:function(dL){this._latlng=dc(dL);if(this._map){this._updatePosition();this._adjustPan()}return this},getContent:function(){return this._content},setContent:function(dL){this._content=dL;this.update();return this},getElement:function(){return this._container},update:function(){if(!this._map){return}this._container.style.visibility="hidden";this._updateContent();this._updateLayout();this._updatePosition();this._container.style.visibility="";this._adjustPan()},getEvents:function(){var dL={zoom:this._updatePosition,viewreset:this._updatePosition};if(this._zoomAnimated){dL.zoomanim=this._animateZoom}return dL},isOpen:function(){return !!this._map&&this._map.hasLayer(this)},bringToFront:function(){if(this._map){an(this._container)}return this},bringToBack:function(){if(this._map){ak(this._container)}return this},_prepareOpen:function(dM,dL,dO){if(!(dL instanceof bx)){dO=dL;dL=dM}if(dL instanceof A){for(var dN in dM._layers){dL=dM._layers[dN];break}}if(!dO){if(dL.getCenter){dO=dL.getCenter()}else{if(dL.getLatLng){dO=dL.getLatLng()}else{throw new Error("Unable to get source layer LatLng.")}}}this._source=dL;this.update();return dO},_updateContent:function(){if(!this._content){return}var dM=this._contentNode;var dL=(typeof this._content==="function")?this._content(this._source||this):this._content;if(typeof dL==="string"){dM.innerHTML=dL}else{while(dM.hasChildNodes()){dM.removeChild(dM.firstChild)}dM.appendChild(dL)}this.fire("contentupdate")},_updatePosition:function(){if(!this._map){return}var dP=this._map.latLngToLayerPoint(this._latlng),dO=cX(this.options.offset),dM=this._getAnchor();if(this._zoomAnimated){cj(this._container,dP.add(dM))}else{dO=dO.add(dP).add(dM)}var dL=this._containerBottom=-dO.y,dN=this._containerLeft=-Math.round(this._containerWidth/2)+dO.x;this._container.style.bottom=dL+"px";this._container.style.left=dN+"px"},_getAnchor:function(){return[0,0]}});var co=M.extend({options:{maxWidth:300,minWidth:50,maxHeight:null,autoPan:true,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:false,closeButton:true,autoClose:true,closeOnEscapeKey:true,className:""},openOn:function(dL){dL.openPopup(this);return this},onAdd:function(dL){M.prototype.onAdd.call(this,dL);dL.fire("popupopen",{popup:this});if(this._source){this._source.fire("popupopen",{popup:this},true);if(!(this._source instanceof aB)){this._source.on("preclick",bQ)}}},onRemove:function(dL){M.prototype.onRemove.call(this,dL);dL.fire("popupclose",{popup:this});if(this._source){this._source.fire("popupclose",{popup:this},true);if(!(this._source instanceof aB)){this._source.off("preclick",bQ)}}},getEvents:function(){var dL=M.prototype.getEvents.call(this);if(this.options.closeOnClick!==undefined?this.options.closeOnClick:this._map.options.closePopupOnClick){dL.preclick=this._close}if(this.options.keepInView){dL.moveend=this._adjustPan}return dL},_close:function(){if(this._map){this._map.closePopup(this)}},_initLayout:function(){var dN="leaflet-popup",dL=this._container=bT("div",dN+" "+(this.options.className||"")+" leaflet-zoom-animated");var dO=this._wrapper=bT("div",dN+"-content-wrapper",dL);this._contentNode=bT("div",dN+"-content",dO);az(dO);aJ(this._contentNode);cs(dO,"contextmenu",bQ);this._tipContainer=bT("div",dN+"-tip-container",dL);this._tip=bT("div",dN+"-tip",this._tipContainer);if(this.options.closeButton){var dM=this._closeButton=bT("a",dN+"-close-button",dL);dM.href="#close";dM.innerHTML="&#215;";cs(dM,"click",this._onCloseButtonClick,this)}},_updateLayout:function(){var dM=this._contentNode,dO=dM.style;dO.width="";dO.whiteSpace="nowrap";var dN=dM.offsetWidth;dN=Math.min(dN,this.options.maxWidth);dN=Math.max(dN,this.options.minWidth);dO.width=(dN+1)+"px";dO.whiteSpace="";dO.height="";var dL=dM.offsetHeight,dP=this.options.maxHeight,dQ="leaflet-popup-scrolled";if(dP&&dL>dP){dO.height=dP+"px";af(dM,dQ)}else{cg(dM,dQ)}this._containerWidth=this._container.offsetWidth},_animateZoom:function(dM){var dN=this._map._latLngToNewLayerPoint(this._latlng,dM.zoom,dM.center),dL=this._getAnchor();cj(this._container,dN.add(dL))},_adjustPan:function(){if(!this.options.autoPan){return}if(this._map._panAnim){this._map._panAnim.stop()}var dM=this._map,dP=parseInt(cB(this._container,"marginBottom"),10)||0,dW=this._container.offsetHeight+dP,dS=this._containerWidth,dQ=new c3(this._containerLeft,-dW-this._containerBottom);dQ._add(cD(this._container));var dO=dM.layerPointToContainerPoint(dQ),dR=cX(this.options.autoPanPadding),dN=cX(this.options.autoPanPaddingTopLeft||dR),dL=cX(this.options.autoPanPaddingBottomRight||dR),dV=dM.getSize(),dU=0,dT=0;if(dO.x+dS+dL.x>dV.x){dU=dO.x+dS-dV.x+dL.x}if(dO.x-dU-dN.x<0){dU=dO.x-dN.x}if(dO.y+dW+dL.y>dV.y){dT=dO.y+dW-dV.y+dL.y}if(dO.y-dT-dN.y<0){dT=dO.y-dN.y}if(dU||dT){dM.fire("autopanstart").panBy([dU,dT])}},_onCloseButtonClick:function(dL){this._close();bP(dL)},_getAnchor:function(){return cX(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}});var ck=function(dL,dM){return new co(dL,dM)};b9.mergeOptions({closePopupOnClick:true});b9.include({openPopup:function(dL,dN,dM){if(!(dL instanceof co)){dL=new co(dM).setContent(dL)}if(dN){dL.setLatLng(dN)}if(this.hasLayer(dL)){return this}if(this._popup&&this._popup.options.autoClose){this.closePopup()}this._popup=dL;return this.addLayer(dL)},closePopup:function(dL){if(!dL||dL===this._popup){dL=this._popup;this._popup=null}if(dL){this.removeLayer(dL)}return this}});bx.include({bindPopup:function(dM,dL){if(dM instanceof co){b8(dM,dL);this._popup=dM;dM._source=this}else{if(!this._popup||dL){this._popup=new co(dL,this)}this._popup.setContent(dM)}if(!this._popupHandlersAdded){this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup});this._popupHandlersAdded=true}return this},unbindPopup:function(){if(this._popup){this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup});this._popupHandlersAdded=false;this._popup=null}return this},openPopup:function(dL,dM){if(this._popup&&this._map){dM=this._popup._prepareOpen(this,dL,dM);this._map.openPopup(this._popup,dM)}return this},closePopup:function(){if(this._popup){this._popup._close()}return this},togglePopup:function(dL){if(this._popup){if(this._popup._map){this.closePopup()}else{this.openPopup(dL)}}return this},isPopupOpen:function(){return(this._popup?this._popup.isOpen():false)},setPopupContent:function(dL){if(this._popup){this._popup.setContent(dL)}return this},getPopup:function(){return this._popup},_openPopup:function(dM){var dL=dM.layer||dM.target;if(!this._popup){return}if(!this._map){return}bP(dM);if(dL instanceof aB){this.openPopup(dM.layer||dM.target,dM.latlng);return}if(this._map.hasLayer(this._popup)&&this._popup._source===dL){this.closePopup()}else{this.openPopup(dL,dM.latlng)}},_movePopup:function(dL){this._popup.setLatLng(dL.latlng)},_onKeyPress:function(dL){if(dL.originalEvent.keyCode===13){this._openPopup(dL)}}});var dt=M.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:false,sticky:false,interactive:false,opacity:0.9},onAdd:function(dL){M.prototype.onAdd.call(this,dL);this.setOpacity(this.options.opacity);dL.fire("tooltipopen",{tooltip:this});if(this._source){this._source.fire("tooltipopen",{tooltip:this},true)}},onRemove:function(dL){M.prototype.onRemove.call(this,dL);dL.fire("tooltipclose",{tooltip:this});if(this._source){this._source.fire("tooltipclose",{tooltip:this},true)}},getEvents:function(){var dL=M.prototype.getEvents.call(this);if(bt&&!this.options.permanent){dL.preclick=this._close}return dL},_close:function(){if(this._map){this._map.closeTooltip(this)}},_initLayout:function(){var dM="leaflet-tooltip",dL=dM+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=bT("div",dL)},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(dS){var dL=this._map,dM=this._container,dR=dL.latLngToContainerPoint(dL.getCenter()),dN=dL.layerPointToContainerPoint(dS),dT=this.options.direction,dQ=dM.offsetWidth,dU=dM.offsetHeight,dO=cX(this.options.offset),dP=this._getAnchor();if(dT==="top"){dS=dS.add(cX(-dQ/2+dO.x,-dU+dO.y+dP.y,true))}else{if(dT==="bottom"){dS=dS.subtract(cX(dQ/2-dO.x,-dO.y,true))}else{if(dT==="center"){dS=dS.subtract(cX(dQ/2+dO.x,dU/2-dP.y+dO.y,true))}else{if(dT==="right"||dT==="auto"&&dN.x<dR.x){dT="right";dS=dS.add(cX(dO.x+dP.x,dP.y-dU/2+dO.y,true))}else{dT="left";dS=dS.subtract(cX(dQ+dP.x-dO.x,dU/2-dP.y-dO.y,true))}}}}cg(dM,"leaflet-tooltip-right");cg(dM,"leaflet-tooltip-left");cg(dM,"leaflet-tooltip-top");cg(dM,"leaflet-tooltip-bottom");af(dM,"leaflet-tooltip-"+dT);cj(dM,dS)},_updatePosition:function(){var dL=this._map.latLngToLayerPoint(this._latlng);this._setPosition(dL)},setOpacity:function(dL){this.options.opacity=dL;if(this._container){av(this._container,dL)}},_animateZoom:function(dL){var dM=this._map._latLngToNewLayerPoint(this._latlng,dL.zoom,dL.center);this._setPosition(dM)},_getAnchor:function(){return cX(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}});var ap=function(dL,dM){return new dt(dL,dM)};b9.include({openTooltip:function(dM,dN,dL){if(!(dM instanceof dt)){dM=new dt(dL).setContent(dM)}if(dN){dM.setLatLng(dN)}if(this.hasLayer(dM)){return this}return this.addLayer(dM)},closeTooltip:function(dL){if(dL){this.removeLayer(dL)}return this}});bx.include({bindTooltip:function(dM,dL){if(dM instanceof dt){b8(dM,dL);this._tooltip=dM;dM._source=this}else{if(!this._tooltip||dL){this._tooltip=new dt(dL,this)}this._tooltip.setContent(dM)}this._initTooltipInteractions();if(this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)){this.openTooltip()}return this},unbindTooltip:function(){if(this._tooltip){this._initTooltipInteractions(true);this.closeTooltip();this._tooltip=null}return this},_initTooltipInteractions:function(dM){if(!dM&&this._tooltipHandlersAdded){return}var dL=dM?"off":"on",dN={remove:this.closeTooltip,move:this._moveTooltip};if(!this._tooltip.options.permanent){dN.mouseover=this._openTooltip;dN.mouseout=this.closeTooltip;if(this._tooltip.options.sticky){dN.mousemove=this._moveTooltip}if(bt){dN.click=this._openTooltip}}else{dN.add=this._openTooltip}this[dL](dN);this._tooltipHandlersAdded=!dM},openTooltip:function(dL,dM){if(this._tooltip&&this._map){dM=this._tooltip._prepareOpen(this,dL,dM);this._map.openTooltip(this._tooltip,dM);if(this._tooltip.options.interactive&&this._tooltip._container){af(this._tooltip._container,"leaflet-clickable");this.addInteractiveTarget(this._tooltip._container)}}return this},closeTooltip:function(){if(this._tooltip){this._tooltip._close();if(this._tooltip.options.interactive&&this._tooltip._container){cg(this._tooltip._container,"leaflet-clickable");this.removeInteractiveTarget(this._tooltip._container)}}return this},toggleTooltip:function(dL){if(this._tooltip){if(this._tooltip._map){this.closeTooltip()}else{this.openTooltip(dL)}}return this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(dL){if(this._tooltip){this._tooltip.setContent(dL)}return this},getTooltip:function(){return this._tooltip},_openTooltip:function(dM){var dL=dM.layer||dM.target;if(!this._tooltip||!this._map){return}this.openTooltip(dL,this._tooltip.options.sticky?dM.latlng:undefined)},_moveTooltip:function(dN){var dO=dN.latlng,dM,dL;if(this._tooltip.options.sticky&&dN.originalEvent){dM=this._map.mouseEventToContainerPoint(dN.originalEvent);dL=this._map.containerPointToLayerPoint(dM);dO=this._map.layerPointToLatLng(dL)}this._tooltip.setLatLng(dO)}});var a1=N.extend({options:{iconSize:[12,12],html:false,bgPos:null,className:"leaflet-div-icon"},createIcon:function(dM){var dO=(dM&&dM.tagName==="DIV")?dM:document.createElement("div"),dL=this.options;if(dL.html instanceof Element){a4(dO);dO.appendChild(dL.html)}else{dO.innerHTML=dL.html!==false?dL.html:""}if(dL.bgPos){var dN=cX(dL.bgPos);dO.style.backgroundPosition=(-dN.x)+"px "+(-dN.y)+"px"}this._setIconStyles(dO,"icon");return dO},createShadow:function(){return null}});function cm(dL){return new a1(dL)}N.Default=c5;var aL=bx.extend({options:{tileSize:256,opacity:1,updateWhenIdle:bH,updateWhenZooming:true,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:undefined,maxNativeZoom:undefined,minNativeZoom:undefined,noWrap:false,pane:"tilePane",className:"",keepBuffer:2},initialize:function(dL){b8(this,dL)},onAdd:function(){this._initContainer();this._levels={};this._tiles={};this._resetView();this._update()},beforeAdd:function(dL){dL._addZoomLimit(this)},onRemove:function(dL){this._removeAllTiles();ad(this._container);dL._removeZoomLimit(this);this._container=null;this._tileZoom=undefined},bringToFront:function(){if(this._map){an(this._container);this._setAutoZIndex(Math.max)}return this},bringToBack:function(){if(this._map){ak(this._container);this._setAutoZIndex(Math.min)}return this},getContainer:function(){return this._container},setOpacity:function(dL){this.options.opacity=dL;this._updateOpacity();return this},setZIndex:function(dL){this.options.zIndex=dL;this._updateZIndex();return this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();this._update()}return this},getEvents:function(){var dL={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};if(!this.options.updateWhenIdle){if(!this._onMove){this._onMove=cp(this._onMoveEnd,this.options.updateInterval,this)}dL.move=this._onMove}if(this._zoomAnimated){dL.zoomanim=this._animateZoom}return dL},createTile:function(){return document.createElement("div")},getTileSize:function(){var dL=this.options.tileSize;return dL instanceof c3?dL:new c3(dL,dL)},_updateZIndex:function(){if(this._container&&this.options.zIndex!==undefined&&this.options.zIndex!==null){this._container.style.zIndex=this.options.zIndex}},_setAutoZIndex:function(dO){var dP=this.getPane().children,dN=-dO(-Infinity,Infinity);for(var dM=0,dL=dP.length,dQ;dM<dL;dM++){dQ=dP[dM].style.zIndex;if(dP[dM]!==this._container&&dQ){dN=dO(dN,+dQ)}}if(isFinite(dN)){this.options.zIndex=dN+dO(-1,1);this._updateZIndex()}},_updateOpacity:function(){if(!this._map){return}if(cy){return}av(this._container,this.options.opacity);var dL=+new Date(),dO=false,dQ=false;for(var dM in this._tiles){var dN=this._tiles[dM];if(!dN.current||!dN.loaded){continue}var dP=Math.min(1,(dL-dN.loaded)/200);av(dN.el,dP);if(dP<1){dO=true}else{if(dN.active){dQ=true}else{this._onOpaqueTile(dN)}dN.active=true}}if(dQ&&!this._noPrune){this._pruneTiles()}if(dO){cW(this._fadeFrame);this._fadeFrame=dC(this._updateOpacity,this)}},_onOpaqueTile:cM,_initContainer:function(){if(this._container){return}this._container=bT("div","leaflet-layer "+(this.options.className||""));this._updateZIndex();if(this.options.opacity<1){this._updateOpacity()}this.getPane().appendChild(this._container)},_updateLevels:function(){var dM=this._tileZoom,dL=this.options.maxZoom;if(dM===undefined){return undefined}for(var dO in this._levels){if(this._levels[dO].el.children.length||dO===dM){this._levels[dO].el.style.zIndex=dL-Math.abs(dM-dO);this._onUpdateLevel(dO)}else{ad(this._levels[dO].el);this._removeTilesAtZoom(dO);this._onRemoveLevel(dO);delete this._levels[dO]}}var dP=this._levels[dM],dN=this._map;if(!dP){dP=this._levels[dM]={};dP.el=bT("div","leaflet-tile-container leaflet-zoom-animated",this._container);dP.el.style.zIndex=dL;dP.origin=dN.project(dN.unproject(dN.getPixelOrigin()),dM).round();dP.zoom=dM;this._setZoomTransform(dP,dN.getCenter(),dN.getZoom());cM(dP.el.offsetWidth);this._onCreateLevel(dP)}this._level=dP;return dP},_onUpdateLevel:cM,_onRemoveLevel:cM,_onCreateLevel:cM,_pruneTiles:function(){if(!this._map){return}var dL,dN;var dM=this._map.getZoom();if(dM>this.options.maxZoom||dM<this.options.minZoom){this._removeAllTiles();return}for(dL in this._tiles){dN=this._tiles[dL];dN.retain=dN.current}for(dL in this._tiles){dN=this._tiles[dL];if(dN.current&&!dN.active){var dO=dN.coords;if(!this._retainParent(dO.x,dO.y,dO.z,dO.z-5)){this._retainChildren(dO.x,dO.y,dO.z,dO.z+2)}}}for(dL in this._tiles){if(!this._tiles[dL].retain){this._removeTile(dL)}}},_removeTilesAtZoom:function(dM){for(var dL in this._tiles){if(this._tiles[dL].coords.z!==dM){continue}this._removeTile(dL)}},_removeAllTiles:function(){for(var dL in this._tiles){this._removeTile(dL)}},_invalidateAll:function(){for(var dL in this._levels){ad(this._levels[dL].el);this._onRemoveLevel(dL);delete this._levels[dL]}this._removeAllTiles();this._tileZoom=undefined},_retainParent:function(dS,dQ,dP,dL){var dM=Math.floor(dS/2),dR=Math.floor(dQ/2),dN=dP-1,dU=new c3(+dM,+dR);dU.z=+dN;var dT=this._tileCoordsToKey(dU),dO=this._tiles[dT];if(dO&&dO.active){dO.retain=true;return true}else{if(dO&&dO.loaded){dO.retain=true}}if(dN>dL){return this._retainParent(dM,dR,dN,dL)}return false},_retainChildren:function(dS,dP,dO,dR){for(var dM=2*dS;dM<2*dS+2;dM++){for(var dL=2*dP;dL<2*dP+2;dL++){var dQ=new c3(dM,dL);dQ.z=dO+1;var dT=this._tileCoordsToKey(dQ),dN=this._tiles[dT];if(dN&&dN.active){dN.retain=true;continue}else{if(dN&&dN.loaded){dN.retain=true}}if(dO+1<dR){this._retainChildren(dM,dL,dO+1,dR)}}}},_resetView:function(dM){var dL=dM&&(dM.pinch||dM.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),dL,dL)},_animateZoom:function(dL){this._setView(dL.center,dL.zoom,true,dL.noUpdate)},_clampZoom:function(dM){var dL=this.options;if(undefined!==dL.minNativeZoom&&dM<dL.minNativeZoom){return dL.minNativeZoom}if(undefined!==dL.maxNativeZoom&&dL.maxNativeZoom<dM){return dL.maxNativeZoom}return dM},_setView:function(dM,dO,dL,dN){var dQ=this._clampZoom(Math.round(dO));if((this.options.maxZoom!==undefined&&dQ>this.options.maxZoom)||(this.options.minZoom!==undefined&&dQ<this.options.minZoom)){dQ=undefined}var dP=this.options.updateWhenZooming&&(dQ!==this._tileZoom);if(!dN||dP){this._tileZoom=dQ;if(this._abortLoading){this._abortLoading()}this._updateLevels();this._resetGrid();if(dQ!==undefined){this._update(dM)}if(!dL){this._pruneTiles()}this._noPrune=!!dL}this._setZoomTransforms(dM,dO)},_setZoomTransforms:function(dL,dN){for(var dM in this._levels){this._setZoomTransform(this._levels[dM],dL,dN)}},_setZoomTransform:function(dP,dL,dM){var dO=this._map.getZoomScale(dM,dP.zoom),dN=dP.origin.multiplyBy(dO).subtract(this._map._getNewPixelOrigin(dL,dM)).round();if(bs){a5(dP.el,dN,dO)}else{cj(dP.el,dN)}},_resetGrid:function(){var dO=this._map,dL=dO.options.crs,dN=this._tileSize=this.getTileSize(),dP=this._tileZoom;var dM=this._map.getPixelWorldBounds(this._tileZoom);if(dM){this._globalTileRange=this._pxBoundsToTileRange(dM)}this._wrapX=dL.wrapLng&&!this.options.noWrap&&[Math.floor(dO.project([0,dL.wrapLng[0]],dP).x/dN.x),Math.ceil(dO.project([0,dL.wrapLng[1]],dP).x/dN.y)];this._wrapY=dL.wrapLat&&!this.options.noWrap&&[Math.floor(dO.project([dL.wrapLat[0],0],dP).y/dN.x),Math.ceil(dO.project([dL.wrapLat[1],0],dP).y/dN.y)]},_onMoveEnd:function(){if(!this._map||this._map._animatingZoom){return}this._update()},_getTiledPixelBounds:function(dL){var dP=this._map,dO=dP._animatingZoom?Math.max(dP._animateToZoom,dP.getZoom()):dP.getZoom(),dQ=dP.getZoomScale(dO,this._tileZoom),dN=dP.project(dL,this._tileZoom).floor(),dM=dP.getSize().divideBy(dQ*2);return new cq(dN.subtract(dM),dN.add(dM))},_update:function(dL){var dM=this._map;if(!dM){return}var d0=this._clampZoom(dM.getZoom());if(dL===undefined){dL=dM.getCenter()}if(this._tileZoom===undefined){return}var dR=this._getTiledPixelBounds(dL),dN=this._pxBoundsToTileRange(dR),dX=dN.getCenter(),dT=[],dO=this.options.keepBuffer,dS=new cq(dN.getBottomLeft().subtract([dO,-dO]),dN.getTopRight().add([dO,-dO]));if(!(isFinite(dN.min.x)&&isFinite(dN.min.y)&&isFinite(dN.max.x)&&isFinite(dN.max.y))){throw new Error("Attempted to load an infinite number of tiles")}for(var dZ in this._tiles){var dW=this._tiles[dZ].coords;if(dW.z!==this._tileZoom||!dS.contains(new c3(dW.x,dW.y))){this._tiles[dZ].current=false}}if(Math.abs(d0-this._tileZoom)>1){this._setView(dL,d0);return}for(var dP=dN.min.y;dP<=dN.max.y;dP++){for(var dQ=dN.min.x;dQ<=dN.max.x;dQ++){var dY=new c3(dQ,dP);dY.z=this._tileZoom;if(!this._isValidTile(dY)){continue}var dV=this._tiles[this._tileCoordsToKey(dY)];if(dV){dV.current=true}else{dT.push(dY)}}}dT.sort(function(d2,d1){return d2.distanceTo(dX)-d1.distanceTo(dX)});if(dT.length!==0){if(!this._loading){this._loading=true;this.fire("loading")}var dU=document.createDocumentFragment();for(dQ=0;dQ<dT.length;dQ++){this._addTile(dT[dQ],dU)}this._level.el.appendChild(dU)}},_isValidTile:function(dN){var dL=this._map.options.crs;if(!dL.infinite){var dM=this._globalTileRange;if((!dL.wrapLng&&(dN.x<dM.min.x||dN.x>dM.max.x))||(!dL.wrapLat&&(dN.y<dM.min.y||dN.y>dM.max.y))){return false}}if(!this.options.bounds){return true}var dO=this._tileCoordsToBounds(dN);return e(this.options.bounds).overlaps(dO)},_keyToBounds:function(dL){return this._tileCoordsToBounds(this._keyToTileCoords(dL))},_tileCoordsToNwSe:function(dQ){var dR=this._map,dP=this.getTileSize(),dN=dQ.scaleBy(dP),dL=dN.add(dP),dM=dR.unproject(dN,dQ.z),dO=dR.unproject(dL,dQ.z);return[dM,dO]},_tileCoordsToBounds:function(dN){var dM=this._tileCoordsToNwSe(dN),dL=new aZ(dM[0],dM[1]);if(!this.options.noWrap){dL=this._map.wrapLatLngBounds(dL)}return dL},_tileCoordsToKey:function(dL){return dL.x+":"+dL.y+":"+dL.z},_keyToTileCoords:function(dM){var dL=dM.split(":"),dN=new c3(+dL[0],+dL[1]);dN.z=+dL[2];return dN},_removeTile:function(dL){var dM=this._tiles[dL];if(!dM){return}ad(dM.el);delete this._tiles[dL];this.fire("tileunload",{tile:dM.el,coords:this._keyToTileCoords(dL)})},_initTile:function(dL){af(dL,"leaflet-tile");var dM=this.getTileSize();dL.style.width=dM.x+"px";dL.style.height=dM.y+"px";dL.onselectstart=cM;dL.onmousemove=cM;if(cy&&this.options.opacity<1){av(dL,this.options.opacity)}if(a2&&!Y){dL.style.WebkitBackfaceVisibility="hidden"}},_addTile:function(dP,dL){var dN=this._getTilePos(dP),dM=this._tileCoordsToKey(dP);var dO=this.createTile(this._wrapCoords(dP),bW(this._tileReady,this,dP));this._initTile(dO);if(this.createTile.length<2){dC(bW(this._tileReady,this,dP,null,dO))}cj(dO,dN);this._tiles[dM]={el:dO,coords:dP,current:true};dL.appendChild(dO);this.fire("tileloadstart",{tile:dO,coords:dP})},_tileReady:function(dO,dN,dM){if(dN){this.fire("tileerror",{error:dN,tile:dM,coords:dO})}var dL=this._tileCoordsToKey(dO);dM=this._tiles[dL];if(!dM){return}dM.loaded=+new Date();if(this._map._fadeAnimated){av(dM.el,0);cW(this._fadeFrame);this._fadeFrame=dC(this._updateOpacity,this)}else{dM.active=true;this._pruneTiles()}if(!dN){af(dM.el,"leaflet-tile-loaded");this.fire("tileload",{tile:dM.el,coords:dO})}if(this._noTilesToLoad()){this._loading=false;this.fire("load");if(cy||!this._map._fadeAnimated){dC(this._pruneTiles,this)}else{setTimeout(bW(this._pruneTiles,this),250)}}},_getTilePos:function(dL){return dL.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(dL){var dM=new c3(this._wrapX?U(dL.x,this._wrapX):dL.x,this._wrapY?U(dL.y,this._wrapY):dL.y);dM.z=dL.z;return dM},_pxBoundsToTileRange:function(dL){var dM=this.getTileSize();return new cq(dL.min.unscaleBy(dM).floor(),dL.max.unscaleBy(dM).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var dL in this._tiles){if(!this._tiles[dL].loaded){return false}}return true}});function cH(dL){return new aL(dL)}var m=aL.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:false,zoomReverse:false,detectRetina:false,crossOrigin:false},initialize:function(dM,dL){this._url=dM;dL=b8(this,dL);if(dL.detectRetina&&ba&&dL.maxZoom>0){dL.tileSize=Math.floor(dL.tileSize/2);if(!dL.zoomReverse){dL.zoomOffset++;dL.maxZoom--}else{dL.zoomOffset--;dL.minZoom++}dL.minZoom=Math.max(0,dL.minZoom)}if(typeof dL.subdomains==="string"){dL.subdomains=dL.subdomains.split("")}if(!a2){this.on("tileunload",this._onTileRemove)}},setUrl:function(dL,dM){if(this._url===dL&&dM===undefined){dM=true}this._url=dL;if(!dM){this.redraw()}return this},createTile:function(dN,dL){var dM=document.createElement("img");cs(dM,"load",bW(this._tileOnLoad,this,dL,dM));cs(dM,"error",bW(this._tileOnError,this,dL,dM));if(this.options.crossOrigin||this.options.crossOrigin===""){dM.crossOrigin=this.options.crossOrigin===true?"":this.options.crossOrigin}dM.alt="";dM.setAttribute("role","presentation");dM.src=this.getTileUrl(dN);return dM},getTileUrl:function(dM){var dL={r:ba?"@2x":"",s:this._getSubdomain(dM),x:dM.x,y:dM.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var dN=this._globalTileRange.max.y-dM.y;if(this.options.tms){dL.y=dN}dL["-y"]=dN}return bo(this._url,ct(dL,this.options))},_tileOnLoad:function(dL,dM){if(cy){setTimeout(bW(dL,this,null,dM),0)}else{dL(null,dM)}},_tileOnError:function(dM,dN,dO){var dL=this.options.errorTileUrl;if(dL&&dN.getAttribute("src")!==dL){dN.src=dL}dM(dO,dN)},_onTileRemove:function(dL){dL.tile.onload=null},_getZoomForUrl:function(){var dN=this._tileZoom,dM=this.options.maxZoom,dO=this.options.zoomReverse,dL=this.options.zoomOffset;if(dO){dN=dM-dN}return dN+dL},_getSubdomain:function(dM){var dL=Math.abs(dM.x+dM.y)%this.options.subdomains.length;return this.options.subdomains[dL]},_abortLoading:function(){var dL,dM;for(dL in this._tiles){if(this._tiles[dL].coords.z!==this._tileZoom){dM=this._tiles[dL].el;dM.onload=cM;dM.onerror=cM;if(!dM.complete){dM.src=H;ad(dM);delete this._tiles[dL]}}}},_removeTile:function(dL){var dM=this._tiles[dL];if(!dM){return}if(!cQ){dM.el.setAttribute("src",H)}return aL.prototype._removeTile.call(this,dL)},_tileReady:function(dN,dM,dL){if(!this._map||(dL&&dL.getAttribute("src")===H)){return}return aL.prototype._tileReady.call(this,dN,dM,dL)}});function bu(dM,dL){return new m(dM,dL)}var bb=m.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:false,version:"1.1.1"},options:{crs:null,uppercase:false},initialize:function(dN,dM){this._url=dN;var dL=ct({},this.defaultWmsParams);for(var dO in dM){if(!(dO in this.options)){dL[dO]=dM[dO]}}dM=b8(this,dM);var dQ=dM.detectRetina&&ba?2:1;var dP=this.getTileSize();dL.width=dP.x*dQ;dL.height=dP.y*dQ;this.wmsParams=dL},onAdd:function(dL){this._crs=this.options.crs||dL.options.crs;this._wmsVersion=parseFloat(this.wmsParams.version);var dM=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[dM]=this._crs.code;m.prototype.onAdd.call(this,dL)},getTileUrl:function(dQ){var dR=this._tileCoordsToNwSe(dQ),dM=this._crs,dP=E(dM.project(dR[0]),dM.project(dR[1])),dO=dP.min,dL=dP.max,dS=(this._wmsVersion>=1.3&&this._crs===a8?[dO.y,dO.x,dL.y,dL.x]:[dO.x,dO.y,dL.x,dL.y]).join(","),dN=m.prototype.getTileUrl.call(this,dQ);return dN+bm(this.wmsParams,dN,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+dS},setParams:function(dM,dL){ct(this.wmsParams,dM);if(!dL){this.redraw()}return this}});function J(dM,dL){return new bb(dM,dL)}m.WMS=bb;bu.wms=J;var dr=bx.extend({options:{padding:0.1,tolerance:0},initialize:function(dL){b8(this,dL);ag(this);this._layers=this._layers||{}},onAdd:function(){if(!this._container){this._initContainer();if(this._zoomAnimated){af(this._container,"leaflet-zoom-animated")}}this.getPane().appendChild(this._container);this._update();this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this);this._destroyContainer()},getEvents:function(){var dL={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};if(this._zoomAnimated){dL.zoomanim=this._onAnimZoom}return dL},_onAnimZoom:function(dL){this._updateTransform(dL.center,dL.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(dL,dT){var dO=this._map.getZoomScale(dT,this._zoom),dQ=cD(this._container),dR=this._map.getSize().multiplyBy(0.5+this.options.padding),dM=this._map.project(this._center,dT),dP=this._map.project(dL,dT),dS=dP.subtract(dM),dN=dR.multiplyBy(-dO).add(dQ).add(dR).subtract(dS);if(bs){a5(this._container,dN,dO)}else{cj(this._container,dN)}},_reset:function(){this._update();this._updateTransform(this._center,this._zoom);for(var dL in this._layers){this._layers[dL]._reset()}},_onZoomEnd:function(){for(var dL in this._layers){this._layers[dL]._project()}},_updatePaths:function(){for(var dL in this._layers){this._layers[dL]._update()}},_update:function(){var dN=this.options.padding,dM=this._map.getSize(),dL=this._map.containerPointToLayerPoint(dM.multiplyBy(-dN)).round();this._bounds=new cq(dL,dL.add(dM.multiplyBy(1+dN*2)).round());this._center=this._map.getCenter();this._zoom=this._map.getZoom()}});var bJ=dr.extend({getEvents:function(){var dL=dr.prototype.getEvents.call(this);dL.viewprereset=this._onViewPreReset;return dL},_onViewPreReset:function(){this._postponeUpdatePaths=true},onAdd:function(){dr.prototype.onAdd.call(this);this._draw()},_initContainer:function(){var dL=this._container=document.createElement("canvas");cs(dL,"mousemove",cp(this._onMouseMove,32,this),this);cs(dL,"click dblclick mousedown mouseup contextmenu",this._onClick,this);cs(dL,"mouseout",this._handleMouseOut,this);this._ctx=dL.getContext("2d")},_destroyContainer:function(){cW(this._redrawRequest);delete this._ctx;ad(this._container);dD(this._container);delete this._container},_updatePaths:function(){if(this._postponeUpdatePaths){return}var dL;this._redrawBounds=null;for(var dM in this._layers){dL=this._layers[dM];dL._update()}this._redraw()},_update:function(){if(this._map._animatingZoom&&this._bounds){return}dr.prototype._update.call(this);var dM=this._bounds,dN=this._container,dO=dM.getSize(),dL=ba?2:1;cj(dN,dM.min);dN.width=dL*dO.x;dN.height=dL*dO.y;dN.style.width=dO.x+"px";dN.style.height=dO.y+"px";if(ba){this._ctx.scale(2,2)}this._ctx.translate(-dM.min.x,-dM.min.y);this.fire("update")},_reset:function(){dr.prototype._reset.call(this);if(this._postponeUpdatePaths){this._postponeUpdatePaths=false;this._updatePaths()}},_initPath:function(dM){this._updateDashArray(dM);this._layers[ag(dM)]=dM;var dL=dM._order={layer:dM,prev:this._drawLast,next:null};if(this._drawLast){this._drawLast.next=dL}this._drawLast=dL;this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(dL){this._requestRedraw(dL)},_removePath:function(dM){var dL=dM._order;var dN=dL.next;var dO=dL.prev;if(dN){dN.prev=dO}else{this._drawLast=dO}if(dO){dO.next=dN}else{this._drawFirst=dN}delete dM._order;delete this._layers[ag(dM)];this._requestRedraw(dM)},_updatePath:function(dL){this._extendRedrawBounds(dL);dL._project();dL._update();this._requestRedraw(dL)},_updateStyle:function(dL){this._updateDashArray(dL);this._requestRedraw(dL)},_updateDashArray:function(dN){if(typeof dN.options.dashArray==="string"){var dO=dN.options.dashArray.split(/[, ]+/),dL=[],dP,dM;for(dM=0;dM<dO.length;dM++){dP=Number(dO[dM]);if(isNaN(dP)){return}dL.push(dP)}dN.options._dashArray=dL}else{dN.options._dashArray=dN.options.dashArray}},_requestRedraw:function(dL){if(!this._map){return}this._extendRedrawBounds(dL);this._redrawRequest=this._redrawRequest||dC(this._redraw,this)},_extendRedrawBounds:function(dL){if(dL._pxBounds){var dM=(dL.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new cq();this._redrawBounds.extend(dL._pxBounds.min.subtract([dM,dM]));this._redrawBounds.extend(dL._pxBounds.max.add([dM,dM]))}},_redraw:function(){this._redrawRequest=null;if(this._redrawBounds){this._redrawBounds.min._floor();this._redrawBounds.max._ceil()}this._clear();this._draw();this._redrawBounds=null},_clear:function(){var dM=this._redrawBounds;if(dM){var dL=dM.getSize();this._ctx.clearRect(dM.min.x,dM.min.y,dL.x,dL.y)}else{this._ctx.clearRect(0,0,this._container.width,this._container.height)}},_draw:function(){var dN,dO=this._redrawBounds;this._ctx.save();if(dO){var dM=dO.getSize();this._ctx.beginPath();this._ctx.rect(dO.min.x,dO.min.y,dM.x,dM.y);this._ctx.clip()}this._drawing=true;for(var dL=this._drawFirst;dL;dL=dL.next){dN=dL.layer;if(!dO||(dN._pxBounds&&dN._pxBounds.intersects(dO))){dN._updatePath()}}this._drawing=false;this._ctx.restore()},_updatePoly:function(dQ,dR){if(!this._drawing){return}var dP,dO,dM,dL,dN=dQ._parts,dS=dN.length,dT=this._ctx;if(!dS){return}dT.beginPath();for(dP=0;dP<dS;dP++){for(dO=0,dM=dN[dP].length;dO<dM;dO++){dL=dN[dP][dO];dT[dO?"lineTo":"moveTo"](dL.x,dL.y)}if(dR){dT.closePath()}}this._fillStroke(dT,dQ)},_updateCircle:function(dM){if(!this._drawing||dM._empty()){return}var dP=dM._point,dL=this._ctx,dO=Math.max(Math.round(dM._radius),1),dN=(Math.max(Math.round(dM._radiusY),1)||dO)/dO;if(dN!==1){dL.save();dL.scale(1,dN)}dL.beginPath();dL.arc(dP.x,dP.y/dN,dO,0,Math.PI*2,false);if(dN!==1){dL.restore()}this._fillStroke(dL,dM)},_fillStroke:function(dL,dN){var dM=dN.options;if(dM.fill){dL.globalAlpha=dM.fillOpacity;dL.fillStyle=dM.fillColor||dM.color;dL.fill(dM.fillRule||"evenodd")}if(dM.stroke&&dM.weight!==0){if(dL.setLineDash){dL.setLineDash(dN.options&&dN.options._dashArray||[])}dL.globalAlpha=dM.opacity;dL.lineWidth=dM.weight;dL.strokeStyle=dM.color;dL.lineCap=dM.lineCap;dL.lineJoin=dM.lineJoin;dL.stroke()}},_onClick:function(dP){var dM=this._map.mouseEventToLayerPoint(dP),dN,dO;for(var dL=this._drawFirst;dL;dL=dL.next){dN=dL.layer;if(dN.options.interactive&&dN._containsPoint(dM)&&!this._map._draggableMoved(dN)){dO=dN}}if(dO){am(dP);this._fireEvent([dO],dP)}},_onMouseMove:function(dM){if(!this._map||this._map.dragging.moving()||this._map._animatingZoom){return}var dL=this._map.mouseEventToLayerPoint(dM);this._handleMouseHover(dM,dL)},_handleMouseOut:function(dM){var dL=this._hoveredLayer;if(dL){cg(this._container,"leaflet-interactive");this._fireEvent([dL],dM,"mouseout");this._hoveredLayer=null}},_handleMouseHover:function(dP,dM){var dO,dN;for(var dL=this._drawFirst;dL;dL=dL.next){dO=dL.layer;if(dO.options.interactive&&dO._containsPoint(dM)){dN=dO}}if(dN!==this._hoveredLayer){this._handleMouseOut(dP);if(dN){af(this._container,"leaflet-interactive");this._fireEvent([dN],dP,"mouseover");this._hoveredLayer=dN}}if(this._hoveredLayer){this._fireEvent([this._hoveredLayer],dP)}},_fireEvent:function(dN,dM,dL){this._map._fireDOMEvent(dM,dL||dM.type,dN)},_bringToFront:function(dM){var dL=dM._order;if(!dL){return}var dN=dL.next;var dO=dL.prev;if(dN){dN.prev=dO}else{return}if(dO){dO.next=dN}else{if(dN){this._drawFirst=dN}}dL.prev=this._drawLast;this._drawLast.next=dL;dL.next=null;this._drawLast=dL;this._requestRedraw(dM)},_bringToBack:function(dM){var dL=dM._order;if(!dL){return}var dN=dL.next;var dO=dL.prev;if(dO){dO.next=dN}else{return}if(dN){dN.prev=dO}else{if(dO){this._drawLast=dO}}dL.prev=null;dL.next=this._drawFirst;this._drawFirst.prev=dL;this._drawFirst=dL;this._requestRedraw(dM)}});function K(dL){return cC?new bJ(dL):null}var cO=(function(){try{document.namespaces.add("lvml","urn:schemas-microsoft-com:vml");return function(dM){return document.createElement("<lvml:"+dM+' class="lvml">')}}catch(dL){return function(dM){return document.createElement("<"+dM+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}})();var c={_initContainer:function(){this._container=bT("div","leaflet-vml-container")},_update:function(){if(this._map._animatingZoom){return}dr.prototype._update.call(this);this.fire("update")},_initPath:function(dM){var dL=dM._container=cO("shape");af(dL,"leaflet-vml-shape "+(this.options.className||""));dL.coordsize="1 1";dM._path=cO("path");dL.appendChild(dM._path);this._updateStyle(dM);this._layers[ag(dM)]=dM},_addPath:function(dM){var dL=dM._container;this._container.appendChild(dL);if(dM.options.interactive){dM.addInteractiveTarget(dL)}},_removePath:function(dM){var dL=dM._container;ad(dL);dM.removeInteractiveTarget(dL);delete this._layers[ag(dM)]},_updateStyle:function(dN){var dP=dN._stroke,dO=dN._fill,dM=dN.options,dL=dN._container;dL.stroked=!!dM.stroke;dL.filled=!!dM.fill;if(dM.stroke){if(!dP){dP=dN._stroke=cO("stroke")}dL.appendChild(dP);dP.weight=dM.weight+"px";dP.color=dM.color;dP.opacity=dM.opacity;if(dM.dashArray){dP.dashStyle=bh(dM.dashArray)?dM.dashArray.join(" "):dM.dashArray.replace(/( *, *)/g," ")}else{dP.dashStyle=""}dP.endcap=dM.lineCap.replace("butt","flat");dP.joinstyle=dM.lineJoin}else{if(dP){dL.removeChild(dP);dN._stroke=null}}if(dM.fill){if(!dO){dO=dN._fill=cO("fill")}dL.appendChild(dO);dO.color=dM.fillColor||dM.color;dO.opacity=dM.fillOpacity}else{if(dO){dL.removeChild(dO);dN._fill=null}}},_updateCircle:function(dM){var dO=dM._point.round(),dN=Math.round(dM._radius),dL=Math.round(dM._radiusY||dN);this._setPath(dM,dM._empty()?"M0 0":"AL "+dO.x+","+dO.y+" "+dN+","+dL+" 0,"+(65535*360))},_setPath:function(dL,dM){dL._path.v=dM},_bringToFront:function(dL){an(dL._container)},_bringToBack:function(dL){ak(dL._container)}};var bR=cY?cO:bX;var bU=dr.extend({getEvents:function(){var dL=dr.prototype.getEvents.call(this);dL.zoomstart=this._onZoomStart;return dL},_initContainer:function(){this._container=bR("svg");this._container.setAttribute("pointer-events","none");this._rootGroup=bR("g");this._container.appendChild(this._rootGroup)},_destroyContainer:function(){ad(this._container);dD(this._container);delete this._container;delete this._rootGroup;delete this._svgSize},_onZoomStart:function(){this._update()},_update:function(){if(this._map._animatingZoom&&this._bounds){return}dr.prototype._update.call(this);var dL=this._bounds,dN=dL.getSize(),dM=this._container;if(!this._svgSize||!this._svgSize.equals(dN)){this._svgSize=dN;dM.setAttribute("width",dN.x);dM.setAttribute("height",dN.y)}cj(dM,dL.min);dM.setAttribute("viewBox",[dL.min.x,dL.min.y,dN.x,dN.y].join(" "));this.fire("update")},_initPath:function(dL){var dM=dL._path=bR("path");if(dL.options.className){af(dM,dL.options.className)}if(dL.options.interactive){af(dM,"leaflet-interactive")}this._updateStyle(dL);this._layers[ag(dL)]=dL},_addPath:function(dL){if(!this._rootGroup){this._initContainer()}this._rootGroup.appendChild(dL._path);dL.addInteractiveTarget(dL._path)},_removePath:function(dL){ad(dL._path);dL.removeInteractiveTarget(dL._path);delete this._layers[ag(dL)]},_updatePath:function(dL){dL._project();dL._update()},_updateStyle:function(dM){var dN=dM._path,dL=dM.options;if(!dN){return}if(dL.stroke){dN.setAttribute("stroke",dL.color);dN.setAttribute("stroke-opacity",dL.opacity);dN.setAttribute("stroke-width",dL.weight);dN.setAttribute("stroke-linecap",dL.lineCap);dN.setAttribute("stroke-linejoin",dL.lineJoin);if(dL.dashArray){dN.setAttribute("stroke-dasharray",dL.dashArray)}else{dN.removeAttribute("stroke-dasharray")}if(dL.dashOffset){dN.setAttribute("stroke-dashoffset",dL.dashOffset)}else{dN.removeAttribute("stroke-dashoffset")}}else{dN.setAttribute("stroke","none")}if(dL.fill){dN.setAttribute("fill",dL.fillColor||dL.color);dN.setAttribute("fill-opacity",dL.fillOpacity);dN.setAttribute("fill-rule",dL.fillRule||"evenodd")}else{dN.setAttribute("fill","none")}},_updatePoly:function(dM,dL){this._setPath(dM,ar(dM._parts,dL))},_updateCircle:function(dN){var dP=dN._point,dO=Math.max(Math.round(dN._radius),1),dL=Math.max(Math.round(dN._radiusY),1)||dO,dM="a"+dO+","+dL+" 0 1,0 ";var dQ=dN._empty()?"M0 0":"M"+(dP.x-dO)+","+dP.y+dM+(dO*2)+",0 "+dM+(-dO*2)+",0 ";this._setPath(dN,dQ)},_setPath:function(dL,dM){dL._path.setAttribute("d",dM)},_bringToFront:function(dL){an(dL._path)},_bringToBack:function(dL){ak(dL._path)}});if(cY){bU.include(c)}function ce(dL){return b2||cY?new bU(dL):null}b9.include({getRenderer:function(dL){var dM=dL.options.renderer||this._getPaneRenderer(dL.options.pane)||this.options.renderer||this._renderer;if(!dM){dM=this._renderer=this._createRenderer()}if(!this.hasLayer(dM)){this.addLayer(dM)}return dM},_getPaneRenderer:function(dL){if(dL==="overlayPane"||dL===undefined){return false}var dM=this._paneRenderers[dL];if(dM===undefined){dM=this._createRenderer({pane:dL});this._paneRenderers[dL]=dM}return dM},_createRenderer:function(dL){return(this.options.preferCanvas&&K(dL))||ce(dL)}});var cL=c8.extend({initialize:function(dM,dL){c8.prototype.initialize.call(this,this._boundsToLatLngs(dM),dL)},setBounds:function(dL){return this.setLatLngs(this._boundsToLatLngs(dL))},_boundsToLatLngs:function(dL){dL=e(dL);return[dL.getSouthWest(),dL.getNorthWest(),dL.getNorthEast(),dL.getSouthEast()]}});function aj(dM,dL){return new cL(dM,dL)}bU.create=bR;bU.pointsToPath=ar;aH.geometryToLayer=ac;aH.coordsToLatLng=dv;aH.coordsToLatLngs=a7;aH.latLngToCoords=cE;aH.latLngsToCoords=n;aH.getFeature=S;aH.asFeature=aI;b9.mergeOptions({boxZoom:true});var d=bB.extend({initialize:function(dL){this._map=dL;this._container=dL._container;this._pane=dL._panes.overlayPane;this._resetStateTimeout=0;dL.on("unload",this._destroy,this)},addHooks:function(){cs(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){dD(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){ad(this._pane);delete this._pane},_resetState:function(){this._resetStateTimeout=0;this._moved=false},_clearDeferredResetState:function(){if(this._resetStateTimeout!==0){clearTimeout(this._resetStateTimeout);this._resetStateTimeout=0}},_onMouseDown:function(dL){if(!dL.shiftKey||((dL.which!==1)&&(dL.button!==1))){return false}this._clearDeferredResetState();this._resetState();bL();aR();this._startPoint=this._map.mouseEventToContainerPoint(dL);cs(document,{contextmenu:bP,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(dN){if(!this._moved){this._moved=true;this._box=bT("div","leaflet-zoom-box",this._container);af(this._container,"leaflet-crosshair");this._map.fire("boxzoomstart")}this._point=this._map.mouseEventToContainerPoint(dN);var dM=new cq(this._point,this._startPoint),dL=dM.getSize();cj(this._box,dM.min);this._box.style.width=dL.x+"px";this._box.style.height=dL.y+"px"},_finish:function(){if(this._moved){ad(this._box);cg(this._container,"leaflet-crosshair")}aa();D();dD(document,{contextmenu:bP,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(dM){if((dM.which!==1)&&(dM.button!==1)){return}this._finish();if(!this._moved){return}this._clearDeferredResetState();this._resetStateTimeout=setTimeout(bW(this._resetState,this),0);var dL=new aZ(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(dL).fire("boxzoomend",{boxZoomBounds:dL})},_onKeyDown:function(dL){if(dL.keyCode===27){this._finish()}}});b9.addInitHook("addHandler","boxZoom",d);b9.mergeOptions({doubleClickZoom:true});var bE=bB.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(dO){var dN=this._map,dM=dN.getZoom(),dP=dN.options.zoomDelta,dL=dO.originalEvent.shiftKey?dM-dP:dM+dP;if(dN.options.doubleClickZoom==="center"){dN.setZoom(dL)}else{dN.setZoomAround(dO.containerPoint,dL)}}});b9.addInitHook("addHandler","doubleClickZoom",bE);b9.mergeOptions({dragging:true,inertia:!Y,inertiaDeceleration:3400,inertiaMaxSpeed:Infinity,easeLinearity:0.2,worldCopyJump:false,maxBoundsViscosity:0});var bI=bB.extend({addHooks:function(){if(!this._draggable){var dL=this._map;this._draggable=new dh(dL._mapPane,dL._container);this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this);this._draggable.on("predrag",this._onPreDragLimit,this);if(dL.options.worldCopyJump){this._draggable.on("predrag",this._onPreDragWrap,this);dL.on("zoomend",this._onZoomEnd,this);dL.whenReady(this._onZoomEnd,this)}}af(this._map._container,"leaflet-grab leaflet-touch-drag");this._draggable.enable();this._positions=[];this._times=[]},removeHooks:function(){cg(this._map._container,"leaflet-grab");cg(this._map._container,"leaflet-touch-drag");this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var dM=this._map;dM._stop();if(this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var dL=e(this._map.options.maxBounds);this._offsetLimit=E(this._map.latLngToContainerPoint(dL.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(dL.getSouthEast()).multiplyBy(-1).add(this._map.getSize()));this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else{this._offsetLimit=null}dM.fire("movestart").fire("dragstart");if(dM.options.inertia){this._positions=[];this._times=[]}},_onDrag:function(dM){if(this._map.options.inertia){var dL=this._lastTime=+new Date(),dN=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(dN);this._times.push(dL);this._prunePositions(dL)}this._map.fire("move",dM).fire("drag",dM)},_prunePositions:function(dL){while(this._positions.length>1&&dL-this._times[0]>50){this._positions.shift();this._times.shift()}},_onZoomEnd:function(){var dM=this._map.getSize().divideBy(2),dL=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=dL.subtract(dM).x;this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(dM,dL){return dM-(dM-dL)*this._viscosity},_onPreDragLimit:function(){if(!this._viscosity||!this._offsetLimit){return}var dM=this._draggable._newPos.subtract(this._draggable._startPos);var dL=this._offsetLimit;if(dM.x<dL.min.x){dM.x=this._viscousLimit(dM.x,dL.min.x)}if(dM.y<dL.min.y){dM.y=this._viscousLimit(dM.y,dL.min.y)}if(dM.x>dL.max.x){dM.x=this._viscousLimit(dM.x,dL.max.x)}if(dM.y>dL.max.y){dM.y=this._viscousLimit(dM.y,dL.max.y)}this._draggable._newPos=this._draggable._startPos.add(dM)},_onPreDragWrap:function(){var dR=this._worldWidth,dQ=Math.round(dR/2),dM=this._initialWorldOffset,dL=this._draggable._newPos.x,dO=(dL-dQ+dM)%dR+dQ-dM,dN=(dL+dQ+dM)%dR-dQ-dM,dP=Math.abs(dO+dM)<Math.abs(dN+dM)?dO:dN;this._draggable._absPos=this._draggable._newPos.clone();this._draggable._newPos.x=dP},_onDragEnd:function(dT){var dM=this._map,dX=dM.options,dL=!dX.inertia||this._times.length<2;dM.fire("dragend",dT);if(dL){dM.fire("moveend")}else{this._prunePositions(+new Date());var dU=this._lastPos.subtract(this._positions[0]),dR=(this._lastTime-this._times[0])/1000,dQ=dX.easeLinearity,dP=dU.multiplyBy(dQ/dR),dO=dP.distanceTo([0,0]),dW=Math.min(dX.inertiaMaxSpeed,dO),dV=dP.multiplyBy(dW/dO),dN=dW/(dX.inertiaDeceleration*dQ),dS=dV.multiplyBy(-dN/2).round();if(!dS.x&&!dS.y){dM.fire("moveend")}else{dS=dM._limitOffset(dS,dM.options.maxBounds);dC(function(){dM.panBy(dS,{duration:dN,easeLinearity:dQ,noMoveStart:true,animate:true})})}}}});b9.addInitHook("addHandler","dragging",bI);b9.mergeOptions({keyboard:true,keyboardPanDelta:80});var dI=bB.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(dL){this._map=dL;this._setPanDelta(dL.options.keyboardPanDelta);this._setZoomDelta(dL.options.zoomDelta)},addHooks:function(){var dL=this._map._container;if(dL.tabIndex<=0){dL.tabIndex="0"}cs(dL,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this);this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks();dD(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this);this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(this._focused){return}var dL=document.body,dO=document.documentElement,dN=dL.scrollTop||dO.scrollTop,dM=dL.scrollLeft||dO.scrollLeft;this._map._container.focus();window.scrollTo(dM,dN)},_onFocus:function(){this._focused=true;this._map.fire("focus")},_onBlur:function(){this._focused=false;this._map.fire("blur")},_setPanDelta:function(dP){var dO=this._panKeys={},dM=this.keyCodes,dN,dL;for(dN=0,dL=dM.left.length;dN<dL;dN++){dO[dM.left[dN]]=[-1*dP,0]}for(dN=0,dL=dM.right.length;dN<dL;dN++){dO[dM.right[dN]]=[dP,0]}for(dN=0,dL=dM.down.length;dN<dL;dN++){dO[dM.down[dN]]=[0,dP]}for(dN=0,dL=dM.up.length;dN<dL;dN++){dO[dM.up[dN]]=[0,-1*dP]}},_setZoomDelta:function(dP){var dO=this._zoomKeys={},dM=this.keyCodes,dN,dL;for(dN=0,dL=dM.zoomIn.length;dN<dL;dN++){dO[dM.zoomIn[dN]]=dP}for(dN=0,dL=dM.zoomOut.length;dN<dL;dN++){dO[dM.zoomOut[dN]]=-dP}},_addHooks:function(){cs(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){dD(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(dN){if(dN.altKey||dN.ctrlKey||dN.metaKey){return}var dL=dN.keyCode,dM=this._map,dO;if(dL in this._panKeys){if(!dM._panAnim||!dM._panAnim._inProgress){dO=this._panKeys[dL];if(dN.shiftKey){dO=cX(dO).multiplyBy(3)}dM.panBy(dO);if(dM.options.maxBounds){dM.panInsideBounds(dM.options.maxBounds)}}}else{if(dL in this._zoomKeys){dM.setZoom(dM.getZoom()+(dN.shiftKey?3:1)*this._zoomKeys[dL])}else{if(dL===27&&dM._popup&&dM._popup.options.closeOnEscapeKey){dM.closePopup()}else{return}}}bP(dN)}});b9.addInitHook("addHandler","keyboard",dI);b9.mergeOptions({scrollWheelZoom:true,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var dp=bB.extend({addHooks:function(){cs(this._map._container,"mousewheel",this._onWheelScroll,this);this._delta=0},removeHooks:function(){dD(this._map._container,"mousewheel",this._onWheelScroll,this)},_onWheelScroll:function(dN){var dO=du(dN);var dL=this._map.options.wheelDebounceTime;this._delta+=dO;this._lastMousePos=this._map.mouseEventToContainerPoint(dN);if(!this._startTime){this._startTime=+new Date()}var dM=Math.max(dL-(+new Date()-this._startTime),0);clearTimeout(this._timer);this._timer=setTimeout(bW(this._performZoom,this),dM);bP(dN)},_performZoom:function(){var dQ=this._map,dP=dQ.getZoom(),dL=this._map.options.zoomSnap||0;dQ._stop();var dO=this._delta/(this._map.options.wheelPxPerZoomLevel*4),dN=4*Math.log(2/(1+Math.exp(-Math.abs(dO))))/Math.LN2,dM=dL?Math.ceil(dN/dL)*dL:dN,dR=dQ._limitZoom(dP+(this._delta>0?dM:-dM))-dP;this._delta=0;this._startTime=null;if(!dR){return}if(dQ.options.scrollWheelZoom==="center"){dQ.setZoom(dP+dR)}else{dQ.setZoomAround(this._lastMousePos,dP+dR)}}});b9.addInitHook("addHandler","scrollWheelZoom",dp);b9.mergeOptions({tap:true,tapTolerance:15});var z=bB.extend({addHooks:function(){cs(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){dD(this._map._container,"touchstart",this._onDown,this)},_onDown:function(dM){if(!dM.touches){return}dA(dM);this._fireClick=true;if(dM.touches.length>1){this._fireClick=false;clearTimeout(this._holdTimeout);return}var dN=dM.touches[0],dL=dN.target;this._startPos=this._newPos=new c3(dN.clientX,dN.clientY);if(dL.tagName&&dL.tagName.toLowerCase()==="a"){af(dL,"leaflet-active")}this._holdTimeout=setTimeout(bW(function(){if(this._isTapValid()){this._fireClick=false;this._onUp();this._simulateEvent("contextmenu",dN)}},this),1000);this._simulateEvent("mousedown",dN);cs(document,{touchmove:this._onMove,touchend:this._onUp},this)},_onUp:function(dM){clearTimeout(this._holdTimeout);dD(document,{touchmove:this._onMove,touchend:this._onUp},this);if(this._fireClick&&dM&&dM.changedTouches){var dN=dM.changedTouches[0],dL=dN.target;if(dL&&dL.tagName&&dL.tagName.toLowerCase()==="a"){cg(dL,"leaflet-active")}this._simulateEvent("mouseup",dN);if(this._isTapValid()){this._simulateEvent("click",dN)}}},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_onMove:function(dL){var dM=dL.touches[0];this._newPos=new c3(dM.clientX,dM.clientY);this._simulateEvent("mousemove",dM)},_simulateEvent:function(dL,dN){var dM=document.createEvent("MouseEvents");dM._simulated=true;dN.target._simulatedClick=true;dM.initMouseEvent(dL,true,true,window,1,dN.screenX,dN.screenY,dN.clientX,dN.clientY,false,false,false,false,0,null);dN.target.dispatchEvent(dM)}});if(bt&&!cR){b9.addInitHook("addHandler","tap",z)}b9.mergeOptions({touchZoom:bt&&!Y,bounceAtZoomLimits:true});var dK=bB.extend({addHooks:function(){af(this._map._container,"leaflet-touch-zoom");cs(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){cg(this._map._container,"leaflet-touch-zoom");dD(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(dN){var dM=this._map;if(!dN.touches||dN.touches.length!==2||dM._animatingZoom||this._zooming){return}var dO=dM.mouseEventToContainerPoint(dN.touches[0]),dL=dM.mouseEventToContainerPoint(dN.touches[1]);this._centerPoint=dM.getSize()._divideBy(2);this._startLatLng=dM.containerPointToLatLng(this._centerPoint);if(dM.options.touchZoom!=="center"){this._pinchStartLatLng=dM.containerPointToLatLng(dO.add(dL)._divideBy(2))}this._startDist=dO.distanceTo(dL);this._startZoom=dM.getZoom();this._moved=false;this._zooming=true;dM._stop();cs(document,"touchmove",this._onTouchMove,this);cs(document,"touchend",this._onTouchEnd,this);dA(dN)},_onTouchMove:function(dO){if(!dO.touches||dO.touches.length!==2||!this._zooming){return}var dN=this._map,dQ=dN.mouseEventToContainerPoint(dO.touches[0]),dM=dN.mouseEventToContainerPoint(dO.touches[1]),dP=dQ.distanceTo(dM)/this._startDist;this._zoom=dN.getScaleZoom(dP,this._startZoom);if(!dN.options.bounceAtZoomLimits&&((this._zoom<dN.getMinZoom()&&dP<1)||(this._zoom>dN.getMaxZoom()&&dP>1))){this._zoom=dN._limitZoom(this._zoom)}if(dN.options.touchZoom==="center"){this._center=this._startLatLng;if(dP===1){return}}else{var dR=dQ._add(dM)._divideBy(2)._subtract(this._centerPoint);if(dP===1&&dR.x===0&&dR.y===0){return}this._center=dN.unproject(dN.project(this._pinchStartLatLng,this._zoom).subtract(dR),this._zoom)}if(!this._moved){dN._moveStart(true,false);this._moved=true}cW(this._animRequest);var dL=bW(dN._move,dN,this._center,this._zoom,{pinch:true,round:false});this._animRequest=dC(dL,this,true);dA(dO)},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=false;return}this._zooming=false;cW(this._animRequest);dD(document,"touchmove",this._onTouchMove);dD(document,"touchend",this._onTouchEnd);if(this._map.options.zoomAnimation){this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),true,this._map.options.zoomSnap)}else{this._map._resetView(this._center,this._map._limitZoom(this._zoom))}}});b9.addInitHook("addHandler","touchZoom",dK);b9.BoxZoom=d;b9.DoubleClickZoom=bE;b9.Drag=bI;b9.Keyboard=dI;b9.ScrollWheelZoom=dp;b9.Tap=z;b9.TouchZoom=dK;Object.freeze=bg;aS.version=aX;aS.Control=dd;aS.control=Z;aS.Browser=aW;aS.Evented=ci;aS.Mixin=R;aS.Util=bN;aS.Class=by;aS.Handler=bB;aS.extend=ct;aS.bind=bW;aS.stamp=ag;aS.setOptions=b8;aS.DomEvent=bA;aS.DomUtil=dl;aS.PosAnimation=cZ;aS.Draggable=dh;aS.LineUtil=dz;aS.PolyUtil=c4;aS.Point=c3;aS.point=cX;aS.Bounds=cq;aS.bounds=E;aS.Transformation=be;aS.transformation=aP;aS.Projection=c0;aS.LatLng=bl;aS.latLng=dc;aS.LatLngBounds=aZ;aS.latLngBounds=e;aS.CRS=i;aS.GeoJSON=aH;aS.geoJSON=b0;aS.geoJson=cf;aS.Layer=bx;aS.LayerGroup=y;aS.layerGroup=ax;aS.FeatureGroup=A;aS.featureGroup=cJ;aS.ImageOverlay=cl;aS.imageOverlay=aY;aS.VideoOverlay=V;aS.videoOverlay=da;aS.SVGOverlay=aM;aS.svgOverlay=bv;aS.DivOverlay=M;aS.Popup=co;aS.popup=ck;aS.Tooltip=dt;aS.tooltip=ap;aS.Icon=N;aS.icon=r;aS.DivIcon=a1;aS.divIcon=cm;aS.Marker=ai;aS.marker=br;aS.TileLayer=m;aS.tileLayer=bu;aS.GridLayer=aL;aS.gridLayer=cH;aS.SVG=bU;aS.svg=ce;aS.Renderer=dr;aS.Canvas=bJ;aS.canvas=K;aS.Path=aB;aS.CircleMarker=cI;aS.circleMarker=bi;aS.Circle=a;aS.circle=ab;aS.Polyline=h;aS.polyline=cc;aS.Polygon=c8;aS.polygon=Q;aS.Rectangle=cL;aS.rectangle=aj;aS.Map=b9;aS.map=s;var cG=window.L;aS.noConflict=function(){window.L=cG;return this};window.L=aS})));